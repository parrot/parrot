{"version":1,"ops":[{"type":1,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1265851718,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NzAz","github-url":"https://github.com/parrot/parrot/issues/495","origin":"github"},"title":"Slim down selection of mathematics vtables","message":"We have far too many mathematics vtables for too many combinations of input arguments. I would like to make the following suggestions:\n- Convert all \"3-argument\" VTABLEs to \"2-argument\" ones. These are of the form \"PMC \\* foo(PMC *value, PMC *dest)\". VTABLEs of this form are extremely inconsistent throughout the codebase for the handling of the third \"dest\" argument. In many implementations the third argument is completely unused. I suggest they should all be changed to \"PMC *foo(PMC *value)\", and always return a new PMC that contains the resultant value.\n- Remove all \"i_*\" vtables. These are less frequently used and tend to be implemented internally in terms of the 3-argument vtables.\n\nThese changes will signficantly reduce bloat of the VTABLE structure and decrease Parrot's memory footprint and startup times. We'll also be able to have more consistent implementations of the math ops across all core types, and will have a much lower maintenance burden if we need to make changes to these operations.\n\nOriginally http://trac.parrot.org/parrot/ticket/1434","files":null}]}