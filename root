{"version":1,"ops":[{"type":1,"author":{"id":"0c1ee4af33970ee80260d659da672a9306b51181"},"timestamp":1312040814,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NzIw","github-url":"https://github.com/parrot/parrot/issues/512","origin":"github"},"title":"Storable format breaks pmc2c when Perl is upgraded","message":"Downstream in Debian, the upgrade from Perl 5.10 to 5.12 broke Rakudo compiles, because the installed PMC .dump files were written using the 5.10 version of Storable, and could not be read using the 5.12 version of Storable. The upstream bugs (closed) related to this failure are:\n\nhttp://bugs.debian.org/cgi-bin/bugreport.cgi?bug=634105\n\nhttp://bugs.debian.org/cgi-bin/bugreport.cgi?bug=634970\n\nThis is solved in the short-term, but in the longer-term, Storable is not a good format for installed, persistent metadata. (It was never intended to be installed, only to be a temporary build-process cache.)\n\nWe need to re-examine what metadata pmc2c actually needs for building PMCs that inherit from core Parrot PMCs. I suspect that it's actually much smaller than the current .dump files, and that installing some simple JSON metadata files for the core PMCs would actually be sufficient.\n\nThe work on M0 will eventually make this irrelevant, but that work would likely also benefit from some thought about abstracting the metadata needed to inherit from a PMC.\n\nOriginally http://trac.parrot.org/parrot/ticket/2167","files":null}]}