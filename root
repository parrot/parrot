{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1421413002,"metadata":{"github-id":"MDU6SXNzdWU1NDU3MjYwNQ==","github-url":"https://github.com/parrot/parrot/issues/1173","origin":"github"},"title":"x86_86: missing parrot_i386_cmpxchg","message":"The amd64 probe defines a wrong config entry for `i386_has_gcc_cmpxchg`, which is checked in the Makefile to include the required `src/atomic/gcc_x86.o`.\nIt does define `HAS_I386_GCC_CMPXCHG` instead.\n\nCheck if we want  `i386_has_gcc_cmpxchg` or `HAS_i386_gcc_cmpxchg` or `HAS_i386_gcc_cmpxchg_c` or `HAS_I386_GCC_CMPXCHG`. Yes, all of them were in use.\n\nFor consistency we will use:\n`HAS_I386_gcc_cmpxchg` and `HAS_AMD64_gcc_cmpxchg`\nUse `HAS_\\U${platform}_$feature` as with SPARC and PPC, and remove the old all underscore config hash entries, like `sparc_has_gcc_cmpset`. \nAll of them had a wrong `_c` suffix for some time also\n\nerror message:\n\n```\nIn file included from /usr/src/parrot/rakudo-git/install/include/6.11.0-devel/parrot/atomic.h:19:0,\n                 from /usr/src/parrot/rakudo-git/install/include/6.11.0-devel/parrot/thread.h:26,\n                 from /usr/src/parrot/rakudo-git/install/include/6.11.0-devel/parrot/interpreter.h:171,\n                 from /usr/src/parrot/rakudo-git/install/include/6.11.0-devel/parrot/platform_interface.h:11,\n                 from /usr/src/parrot/rakudo-git/install/include/6.11.0-devel/parrot/parrot.h:244,\n                 from container.c:2:\n/usr/src/parrot/rakudo-git/install/include/6.11.0-devel/parrot/atomic/gcc_x86.h:31:6: warning: inline function parrot_i386_xaddâ€™ declared but never defined\n long parrot_i386_xadd(ARGIN(volatile long *l), long amount)\n```","files":null}]}