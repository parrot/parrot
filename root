{"version":1,"ops":[{"type":1,"author":{"id":"5ba91ab98e1932003c6492ddab001d8a6cb4d710"},"timestamp":1401328570,"metadata":{"github-id":"MDU6SXNzdWUzNDUyMjk0Mg==","github-url":"https://github.com/parrot/parrot/issues/1072","origin":"github"},"title":"Cannot configure Parrot 6.4.0 on Win32","message":"Compiler: Microsoft VC 12.0\nPerl version: ActiveState 5.16.3\nPlatform: MSWin32 OsVer:5.2 (Windows 7.2)\nParrot build dir: C:/edrive/parrot\n\nWhen running Configure.pl, it runs config\\init\\defaults.pm runstep and creates a $build_dir of C:\\edrive\\parrot/C:\\edrive\\parrot/C:\\edrive\\parrot\\ instead of the expected C:/edrive/parrot.  When I run Configure.pl through the debugger and step through runstep, I get the correct $build_dir of C:/edrive/parrot!  This seems to be some kind of \"chicken-and-egg\" problem with $FileBin::Bin and Cwd::abs_path that does not appear when run through the debugger.  I tried using FileBin-\u003eagain to reset the FileBin variables but with no success.  I added an if statement after the statement:\n\nmy $build_dir = abs_path($FindBin::Bin);\n\nwhich tests the value returned in $build_dir and if it is not equivalent to C:/edrive/parrot, it explicitly sets it to C:/edrive/parrot (with a print statement inside the if to notify me that the if logic triggered).  Again, when run in the debugger, the if statement does not trigger but without debugging, the if statement does trigger.\n\nSo I cannot debug with the debugger, only with print statements.  With print statements, I've seen that FindBin itself uses Cwd's abs_path to set the Bin variable -- chicken-egg ultimately in its BEGIN block (thus the try of calling FindBin-\u003eagain to resolve the problem).\n\nI used to build Parrot twice a week until about a year and a half ago.  I didn't experience the problem then.  Of course, I have updated the OS and C++ compiler but I don't see this as part of the problem since it appears the issue is with Perl code.  Of course, I was probably using 5.14.x then as well.\n\nAny ideas on why the behavior might be different between debugger and non-debug runs?  Any other info needed to help diagnose the problem?  I currently have left in the hard-coding \"if\" statement so that I can configure and run the tests so this is not urgent (for me).  I'd be glad to help in any way to resolve this issue.\n\nMark Solinski","files":null}]}