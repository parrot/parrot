{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1420553079,"metadata":{"github-id":"MDU6SXNzdWU1MzUxNzQ2NQ==","github-url":"https://github.com/parrot/parrot/issues/1168","origin":"github"},"title":"fix parser crashes detected by afl-fuzz","message":"See https://gist.github.com/rurban/d7f7b29ced5e8f8e8c79 for 2 currently found crash cases with fuzzing an changed `t/op/literal.t` with the **american fuzzy lop (1.06b)**\n\nSee also https://github.com/parrot/parrot/blob/HEAD/docs/dev/fuzzing.pod\n\n```\n$ cat afl-testcase/literal.t \n#!./parrot_old\n\n=pod\n\nTests the lexing of literal numbers.  Taken from the 2nd\naoudad book (page 127).\n\n=cut\n\n.sub main :main\n    test_integer_literals_in_pir()\n.end\n\n.sub test_integer_literals_in_pir\n    $I0 = 42\n    $I1 = $I0 == 0x2A\n    $I1 = 42.0 == 4.2e1\n    $I1 = $I0 == 0b101010\n    $I1 = \"2\" == \"0B101010\"\n    print $I1\n.end\n```\n\n```\n$ cat afl-out/crashes/id:000119,sig:11,src:000000,op:havoc,rep:8\n#!./parrot_old\n\n=pod\n\nT%sts the lexing of literal numbers.  Taken from the 2nd\nAoudad book (page 1(7).\n\n=cut\n\n.sub main :main\n    test_integer_literals_in_pir()\nQend\n\n.sub test_integer_literals_in_pir\n    $I0 = 42\n    $I1 = $I0 == 0x2A\n   ge 127).\n\n=c== 4..e1\n    $I1 = $I0 == 0b101010\n    $I1A= \"2\" == \"0B101010\"\n   print $I1\n.end\n```\n\n```\n$ cat afl-out/crashes/id:000115,sig:11,src:000000,op:havoc,rep:2\n#!./parrot_old\n\n=pod\n\nTests the lexing of literal numbers.  Taken from the 2nd\naoudad book (pa\n=pod\n\nTests the lexing of literal numbers.  Taken from the 2nd\naoudad book (page 127).\n\n=cut\n\n.sub main :main\nge 127).\n\n=cut\n\n.sub main :main\n    test_integer_literals_in_pir()\n.end\n\n.sub test_integer_literals_in_pir\n    $I0 = 42\n    $I1 = $I0 == 0x2A\n    $I1= 42.0 == 4.2e1\n    $I1 = $I0 == 0b101010\n    $I1 = \"2\" == \"0B101010\"\n    print $I1\n.end\n```","files":null}]}