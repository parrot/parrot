{"version":1,"ops":[{"type":1,"author":{"id":"646f0669ead6eaf64196bebf3884a5eff162357a"},"timestamp":1421955265,"metadata":{"github-id":"MDU6SXNzdWU1NTE5ODAxMg==","github-url":"https://github.com/parrot/parrot/issues/1188","origin":"github"},"title":"ICU tests drop headers","message":"It looks like commit cd2c234b2c0a5f695d91b80d911008608153750c \"[config] better icu probes, esp for --m overrides #1182\" dropped the ability for the ICU headers to be in non-standard places.  On my MacBook, with ICU installed via homebrew in `/usr/local/opt/icu4c` and me passing `--icu-config=/usr/local/opt/icu4c/bin/icu-config --verbose=2`, I get output like this:\n\n```\nauto::icu -           Is ICU installed...Trying /usr/local/opt/icu4c/bin/icu-con\nfig with '--ldflags-searchpath --ldflags-libsonly'\nicushared:  captured -L/usr/local/Cellar/icu4c/54.1/lib -licui18n -licuuc -licud\nata \nFor icushared, found -L/usr/local/Cellar/icu4c/54.1/lib  -licuuc -licudata  and \n0\nTrying /usr/local/opt/icu4c/bin/icu-config with '--prefix'\nicuheaders:  captured /usr/local/Cellar/icu4c/54.1\n\nFor icuheaders, found /usr/local/Cellar/icu4c/54.1/include and 0\nTrying /usr/local/opt/icu4c/bin/icu-config with '--version'\n/usr/local/opt/icu4c/bin/icu-config --version:  captured 54.1\nicuconfig: /usr/local/opt/icu4c/bin/icu-config\nicushared='-L/usr/local/Cellar/icu4c/54.1/lib  -licuuc -licudata '\nicu_version='54.1'\nheaders='/usr/local/Cellar/icu4c/54.1/include'\n\nSetting Configuration Data:\n(\n        TEMP_testheaders =\u003e '#include \u003cunicode/ucnv.h\u003e\n',\n);\n\nSetting Configuration Data:\n(\n        TEMP_testheader =\u003e 'unicode/ucnv.h',\n);\n\nSetting Configuration Data:\n(\n        TEMP_testheaders =\u003e undef,\n);\n\nSetting Configuration Data:\n(\n        TEMP_testheader =\u003e undef,\n);\nccache-clang -DPARROT_GC_VALIDATE  -isystem /usr/include/ffi/ -DDISABLE_GC_DEBUG\n=1 -DNDEBUG  -I./include -c test_85311.c\ntest_85311.c:12:10: fatal error: 'unicode/ucnv.h' file not found\n#include \u003cunicode/ucnv.h\u003e\n         ^\n1 error generated.\n```\n\nNote that the ccache-clang line does _not_ include `-isystem /usr/local/opt/icu4c/include`.","files":null}]}