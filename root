{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1417018372,"metadata":{"github-id":"MDU6SXNzdWU1MDE5NzI5Ng==","github-url":"https://github.com/parrot/parrot/issues/1151","origin":"github"},"title":"pbc leaks, missing imcc-\u003eglobals in imcc_globals_destroy","message":"e_pbc_open allocates room for imcc-\u003eglobals, a struct of 2 pointers and an integer via the gc, and registers `imcc_globals_destroy` in the exit handler. This imcc-\u003eglobals struct is leaking for every opened pbc file.\n\n```\n$ VALGRIND=valgrind perl t/compilers/pge/pge_text.t\n1..20\n# LEAK SUMMARY: definitely lost: 24 bytes in 1 blocks\nok 1 - bracketed\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 2\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 3\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 4\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 5\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 6\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 7\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 8\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 9\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 10\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 11\n# LEAK SUMMARY: definitely lost: 72 bytes in 3 blocks\nok 12\n...\n$ VALGRIND=valgrind perl t/compilers/pge/pge_globs.t\n1..28\n# LEAK SUMMARY: definitely lost: 48 bytes in 2 blocks\nok 1 - literal: empty string, empty pattern\n...\n```","files":null}]}