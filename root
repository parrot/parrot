{"version":1,"ops":[{"type":1,"author":{"id":"b06e3ac6b5400499d4c972ae8fd19b799ea1eb1f"},"timestamp":1257292904,"metadata":{"github-id":"MDU6SXNzdWUyODQ4Njkz","github-url":"https://github.com/parrot/parrot/issues/485","origin":"github"},"title":"Replace .globalconst/.const directives by .const/.localconst (respectively)","message":"This ticket replaces RT57634.\n\nhi,\n\nin PIR you can use the .globalconst directive in a sub to define a constant\nthat is globally accessible.\nLikewise, you can use the .const directive in a sub that is local to that\nsub.\n\n.sub foo\n.globalconst int answer = 42\n.const num PI = 3.14\n\n.end\n\nanswer in this case is globally accessible (in any other sub, that is parsed\nAFTER the foo subroutine, I should note)\nPI in this case is only accessible in this subroutine foo.\n\nHowever, I question the need for .globalconst, as the .const directive can\nalso be used /outside/ of a subroutine, like so:\n\n.const int answer = 42\n\nTherefore, the .globalconst directive seems to be superfluous; why have 2\ndirectives that do the same thing; if a .globalconst is accessible globally\nanyway, there's no need to define it WITHIN a sub.\n\nTherefore, my proposal is to remove the .globalconst directive;\nwhenever you need to have a global const, use .const outside of a\nsubroutine.\nwhenever you need to have a local const (in a sub), use .const inside a\nsubroutine.\n\ncomments welcome,\nkjs\n\nOriginally http://trac.parrot.org/parrot/ticket/1190","files":null}]}