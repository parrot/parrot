{"version":1,"ops":[{"type":1,"author":{"id":"96fb2e2e33b59677e3a85ec74746c085275c50d1"},"timestamp":1254159300,"metadata":{"github-id":"MDU6SXNzdWUyODQ4ODk0","github-url":"https://github.com/parrot/parrot/issues/685","origin":"github"},"title":"Intermittent failure with t/pmc/os.t test 9","message":"I am getting an intermittent failure with t/pmc/os.t - test 9 on Ubuntu 9.04 amd64.\n\nIt has failed twice for me recently - pretty much in the same way (see below) but in both cases when I re-ran the test it PASSed.\n\nIn fact in the last couple of days I have run the test many times (considering that it is run 7 times for each of my test runs, once in smoke and 6 times (once for each core) in fulltest.  As I have logged 6 test runs since the first failure (+ other runs not recorded) I have run the test more than 50 times with 2 failures.\n\nAt r41542 from [http://smolder.plusthree.com/app/public_projects/report_details/28233]: \n\n```\n1..16\nok 1 - Test cwd\nok 2 - Test chdir\nok 3 - Test mkdir\nok 4 - Test rm call in a directory\nok 5 - Test that rm removed the directory\nok 6 - Test OS.stat\nok 7 - Test OS.readdir\nok 8 - Test OS.rename\nnot ok 9 - Test OS.lstat\n\n#   Failed test 'Test OS.lstat'\n#   at t/pmc/os.t line 314.\n#          got: '0x00000811\n# 0x00a1b82f\n# 0x000081a4\n# 0x00000001\n# 0x000003e8\n# 0x000003e8\n# 0x00000000\n# 0x00000004\n# 0x4ac081ae\n# 0x4ac081ad\n# 0x4ac081ad\n# 0x00001000\n# 0x00000008\n# '\n#     expected: '0x00000811\n# 0x00a1b82f\n# 0x000081a4\n# 0x00000001\n# 0x000003e8\n# 0x000003e8\n# 0x00000000\n# 0x00000004\n# 0x4ac081ad\n# 0x4ac081ad\n# 0x4ac081ad\n# 0x00001000\n# 0x00000008\n# '\nok 10 - Test rm call in a file\nok 11 - Test that rm removed file\nok 12 - Test symlink\nok 13 - symlink was really created\nok 14 - Test link\nok 15 - hard link to file was really created\nok 16 - Test dirlink\n# Looks like you failed 1 test of 16.\n\n```\n\nAt r41534 make fulltest - make testr:\n\n```\n#   Failed test 'Test OS.lstat'\n#   at t/pmc/os.t line 314.\n#          got: '0x00000811\n# 0x009e0109\n# 0x000081a4\n# 0x00000001\n# 0x000003e8\n# 0x000003e8\n# 0x00000000\n# 0x00000004\n# 0x4abfaa1d\n# 0x4abfaa1c\n# 0x4abfaa1c\n# 0x00001000\n# 0x00000008\n# '\n#     expected: '0x00000811\n# 0x009e0109\n# 0x000081a4\n# 0x00000001\n# 0x000003e8\n# 0x000003e8\n# 0x00000000\n# 0x00000004\n# 0x4abfaa1c\n# 0x4abfaa1c\n# 0x4abfaa1c\n# 0x00001000\n# 0x00000008\n# '\n\n```\n\nNote that the failure (0x4ac081ae expected 0x4abfaa1d) and (0x4ac081ad expected 0x4abfaa1c) in the 9th line of output seems to be the same failure.\n\nI am investigating this further.\n\nOriginally http://trac.parrot.org/parrot/ticket/1071","files":null}]}