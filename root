{"version":1,"ops":[{"type":1,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1336482842,"metadata":{"github-id":"MDU6SXNzdWU0NDcyMzcw","github-url":"https://github.com/parrot/parrot/issues/767","origin":"github"},"title":"[BUG] reverse_index fails for some unicode strings","message":"The 'reverse_index' method on the String PMC fails for some unicode-encoded strings.  Here's a simple test demonstrating the bug:\n\n```\npmichaud@kiwi:~/p6/parrot$ cat x.pir\n.sub 'main'\n    # works, outputs 1\n    $P0 = box \"hello\"\n    $I0 = $P0.'reverse_index'('e', 0)\n    say $I0                \n\n    # fails, outputs -1\n    $P0 = box unicode:\"hello\"\n    $I0 = $P0.'reverse_index'('e', 0)\n    say $I0                \n.end\n\npmichaud@kiwi:~/p6/parrot$ ./parrot x.pir\n1\n-1\npmichaud@kiwi:~/p6/parrot$ \n```","files":null}]}