{"version":1,"ops":[{"type":1,"author":{"id":"4277d85693ce7ae3559eb0a94f3b50be93446600"},"timestamp":1332095826,"metadata":{"github-id":"MDU6SXNzdWUzNzAxNjQw","github-url":"https://github.com/parrot/parrot/issues/742","origin":"github"},"title":"Parrot_run_callback uses void* to pass arbitrary data","message":"The `external_data` argument of `Parrot_run_callback()` has type `void*`, but is also used to pass integers of various types.\n\nWith the increased warning levels, this breaks the g++ build on win64 (strawberry-perl-5.14.2.1, gcc 4.4.7):\n\n```\nsrc/interp/inter_cb.c: In function 'void Parrot_run_callback(parrot_interp_t*, PMC*, void*)':\nsrc/interp/inter_cb.c:317: error: cast from 'void*' to 'long int' loses precision\nsrc/interp/inter_cb.c:320: error: cast from 'void*' to 'long int' loses precision\nsrc/interp/inter_cb.c:323: error: cast from 'void*' to 'long int' loses precision\nsrc/interp/inter_cb.c:326: error: cast from 'void*' to 'long int' loses precision\n```\n\nI'll add a temporary fix for that (together with some other failures I've come accross), but long-term we really should use a union here...","files":null}]}