{"version":1,"ops":[{"type":1,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1355534701,"metadata":{"github-id":"MDU6SXNzdWU5MzAyNTk2","github-url":"https://github.com/parrot/parrot/issues/886","origin":"github"},"title":"t/pmc/task.t: Failing during make -j3 test and higher levels of parallelness","message":"In the past few days, my Smolder reports performed on my Linode have been FAILing due to a \"Tests out of sequence\" problem associated with t/pmc/task.t.  I typically run smoke tests with 'make -j4'.  Here's the output:\n\n```\nt/pmc/task.t ................................ \nAll 9 subtests passed \n\nTest Summary Report\n-------------------\nt/pmc/task.t                              (Wstat: 0 Tests: 9 Failed: 0)\n  Parse errors: Tests out of sequence.  Found (8) but expected (7)\n                Tests out of sequence.  Found (7) but expected (8)\nFiles=451, Tests=14524, 99 wallclock secs \n  ( 3.31 usr  1.17 sys + 257.60 cusr 33.66 csys = 295.74 CPU)\nResult: FAIL\n```\n\nI do _not_ get this error when I run a simple 'make smoke' -- where I'm not attempting to run tests in parallel -- nor do I get it with a '-j' level \u003c=2:\n\n```\n$ make -j2 pmc_tests\n/usr/local/bin/perl t/harness t/pmc/*.t\n...\nt/pmc/sys.t ...................... ok                                   \nt/pmc/task.t ..................... ok                                   \nt/pmc/task_primes.t .............. ok                                   \n...\nAll tests successful.\nFiles=113, Tests=4173, 14 wallclock secs \n  ( 0.89 usr  0.25 sys + 21.95 cusr  7.10 csys = 30.19 CPU)\nResult: PASS\n\n$ make -j3 pmc_tests\n/usr/local/bin/perl t/harness t/pmc/*.t\n...\nt/pmc/sys.t ...................... ok                                   \nt/pmc/task.t ..................... Failed 1/9 subtests                  \nt/pmc/task_primes.t .............. ok                                   \n...\nTest Summary Report\n-------------------\nt/pmc/task.t                   (Wstat: 0 Tests: 8 Failed: 0)\n  Parse errors: Tests out of sequence.  Found (8) but expected (7)\n                Tests out of sequence.  Found (9) but expected (8)\n                Bad plan.  You planned 9 tests but ran 8.\nFiles=113, Tests=4172, 14 wallclock secs \n  ( 0.88 usr  0.24 sys + 21.65 cusr  7.01 csys = 29.78 CPU)\nResult: FAIL\nmake: *** [pmc_tests] Error 1\n```\n\nThis cannot be attributed to any recent change in the test file, which has not changed since June of this year.\n\n```\ncommit aad6ae6bc7b70772f0687dfc0135e5aa18dbedb6\nAuthor: Stefan Seifert \u003cnine@detonation.org\u003e\nDate:   Fri Jun 1 18:39:45 2012 +0200\n```\n\nHas anyone else observed this?\n\nDoes anyone have any ideas as why this has suddenly (last week, I believe) begun to happen?\n\nThank you very much.\nJim Keenan","files":null}]}