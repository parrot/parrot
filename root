{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357251360,"metadata":{"github-id":"MDU6SXNzdWU5NjU4MDI5","github-url":"https://github.com/parrot/parrot/issues/910","origin":"github"},"title":"Improve make install stability","message":"make install will fail on a half compiled/generated parrot, when some files which should be installed already existed.\n\nTypical failure:\n`Can't locate Parrot/Pmc2c/PCCMETHOD_BITS.pm in @INC`\n\nCause:\n`lib/Parrot/Pmc2c/PCCMETHOD_BITS.pm` already existed, so `perl Configure.PL; make installable; sudo make install`\ndid not generated this entry in `MANIFEST.generate`, so it was not installed.\n\nAdd a `make install` step which checks for `lib/Parrot/Pmc2c/PCCMETHOD_BITS.pm` in `MANIFEST.generated` (this is the first entry usually) and abort with the suggestion\n`make clean; perl Configure.PL; make installable; sudo make install`\nthen.\n\n`nqp --gen-parrot` will not clean `parrot/` because this is in `.gitignore`.\nYou'll have to clean parrot/ manually. `rm -rf parrot/` works fine.","files":null}]}