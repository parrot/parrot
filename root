{"version":1,"ops":[{"type":1,"author":{"id":"0782f66a529ccd24e18226f5eebab20a90bea166"},"timestamp":1292031067,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NjU1","github-url":"https://github.com/parrot/parrot/issues/448","origin":"github"},"title":"set_string_native() not implemented in class 'TclString'","message":"This error has cropped up in the last few months in partcl-nqp. (No changes in partcl, just upgrading parrot was sufficient to gen the error)\n\nIn one case, there was a concat operation in our src/Partcl/commands/time.pm ; prefixing the first element with a ~ avoided the error. (but should have been unnecessary.)\n\nThere is another location where this error occurs, triggered by the following tcl:\n\n```\n$ cat error.tcl\nfor {set i 0} {$i \u003c 2} {set i [expr $i+1]} {puts $i}\n$ ./partcl error.tcl\n0\n1\nset_string_native() not implemented in class 'TclString'\n    while executing\neval\n    (file \"\u003cunknown file\u003e\" line 7)\nfor\n    (file \"\u003cunknown file\u003e\" line 12)\nHLL::Compiler::eval\n    (file \"\u003cunknown file\u003e\" line 151)\nPCT::HLLCompiler::evalfiles\n    (file \"\u003cunknown file\u003e\" \u003cunknown line\u003e)\nPCT::HLLCompiler::command_line\n    (file \"\u003cunknown file\u003e\" \u003cunknown line\u003e)\nmain\n    (file \"\u003cunknown file\u003e\" line 1)\n```\n\nIn eval (src/Partcl/commands/eval.pm) the error is occurring when invoking the sub generated by:\n\n```\nmy \u0026sub := Partcl::Compiler.compile($code);\n\u0026sub(); #BOOM\n```\n\nIn any case, TclString should in fact have a set_string_native, inherited from its parent class of String; it's declared in an nqp file as:\n\n```\nclass TclString is String\n```\n\nOriginally http://trac.parrot.org/parrot/ticket/1886","files":null}]}