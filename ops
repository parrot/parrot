{"version":1,"ops":[{"type":1,"author":{"id":"0782f66a529ccd24e18226f5eebab20a90bea166"},"timestamp":1232778160,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NTAw","github-url":"https://github.com/parrot/parrot/issues/303","origin":"github"},"title":"change function of get_addr and set_addr","message":"I would expect the following code to print out 'a' twice, once for each type.\nThis patch solves the ticket. But I'm not sure how \"kosher\" is it.\n\n```\n.sub main\n  sortme('ResizablePMCArray')\n\n  $P1 = get_class 'ResizablePMCArray'\n  $P0 = subclass $P1, 'RPA'\n\n  sortme('RPA')\n\n.end\n\n.sub sortme\n  .param string type\n  $P0 = new type\n  $P0[0]='z'\n  $P0[1]='a'\n  .local pmc comparator\n  comparator = get_global 'ascii'\n  $P0.'sort'(comparator)\n  $S0 = $P0[0]\n  say $S0\n.end\n\n.sub ascii\n  .param string a\n  .param string b\n  $I0 = cmp_str a,b\n  .return($I0)\n.end\n```\n\nInstead, it generates:\n\n```\na\nMethod 'sort' not found for invocant of class 'RPA'\ncurrent instr.: 'sortme' pc 53 (foo.pir:21)\ncalled from Sub 'main' pc 25 (foo.pir:10)\n```\n\nsort is a method on FixedPMCArray; it's inherited by esizablePMCArray. It is apparently then NOT inherited by my PIR level subclass.\n\nOriginally http://trac.parrot.org/parrot/ticket/218","files":null}]}