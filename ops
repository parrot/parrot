{"version":1,"ops":[{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1348854562,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg5ODUyNTI=","github-url":"https://github.com/parrot/parrot/issues/848#issuecomment-8985252"},"message":"We only support single-byte encodings for yet for Parrot_str_bitwise_and() as the error message says.\n\nBut I'm working on adding multi-byte support to bitwise strings. \n\nutf8 is probably a very bad encoding to do str_bitwise_*, but ucs2 and ucs4 are good ones. \nI'm not so sure about utf16 which is problematic for \u003e2 bytes.\n\nutf8 could be transcoded down to iso-8859-1 if possible.\n\nWe could also transcode all strings to ByteBuffer","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1364170751,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1MzcyOTEy","github-url":"https://github.com/parrot/parrot/issues/848#issuecomment-15372912"},"message":"@pmichaud has this issue been sufficiently addressed to be closed?","files":null},{"type":3,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1364225225,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1Mzk5ODAx","github-url":"https://github.com/parrot/parrot/issues/848#issuecomment-15399801"},"message":"@leto  No.\n\nThe current Parrot master still exhibits exactly the same issue as identified in the original ticket:\n\n```\npmichaud@kiwi:~/p6/parrot$ ./parrot --version\nThis is Parrot version 5.2.0-devel built for amd64-linux\nCopyright (C) 2001-2013, Parrot Foundation.\n\nThis code is distributed under the terms of the Artistic License 2.0.\nFor more details, see the full text of the license in the LICENSE file\nincluded in the Parrot source tree\n\npmichaud@kiwi:~/p6/parrot$ cat bws1.pir\n.loadlib 'bit_ops'\n\n.sub 'main' :main\n\n    say 'ascii:'\n    'bitwise_test'(     ascii:\"hello\", \"oaooo\")\n\n    say 'iso-8859-1:'\n    'bitwise_test'(iso-8859-1:\"hello\", \"oaooo\")\n\n    say 'utf8:'\n    'bitwise_test'(      utf8:\"hello\", \"oaooo\")\n\n    say 'ucs4:'\n    'bitwise_test'(      ucs4:\"hello\", \"oaooo\")\n.end\n\n.sub 'bitwise_test'\n    .param string a\n    .param string b\n    $S1 = bands a, b\n    print a\n    print \" ~\u0026 \"\n    print b\n    print \" = \"\n    say $S1\n    $S1 = bors a, b\n    print a\n    print \" ~| \"\n    print b\n    print \" = \"\n    say $S1\n    say ''\n.end\n\npmichaud@kiwi:~/p6/parrot$ ./parrot bws1.pir\nascii:\nhello ~\u0026 oaooo = hallo\nhello ~| oaooo = oeooo\n\niso-8859-1:\nhello ~\u0026 oaooo = hallo\nhello ~| oaooo = oeooo\n\nutf8:\nstring bitwise_and (utf8/ascii) unsupported\ncurrent instr.: 'bitwise_test' pc 59 (bws1.pir:21)\ncalled from Sub 'main' pc 37 (bws1.pir:12)\npmichaud@kiwi:~/p6/parrot$ \n```\n\nI don't think that @rurban 's commits/branch were ever merged to master.\n\n(Beyond that, I'm not certain the commits _should_ be merged to master as they exist now, as they seem to over-complicate the issue with a fair bit of code duplication, and they solve things differently from what I would expect.  But that's not my call.)","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1367957846,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE3NTY3NTE1","github-url":"https://github.com/parrot/parrot/issues/848#issuecomment-17567515"},"message":"Patrick is right. My \"fixes\" were overly complicated, and in some cases also wrong.","files":null}]}