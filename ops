{"version":1,"ops":[{"type":3,"author":{"id":"c750eb0960e029df836e56dc77bb8c148fcf5723"},"timestamp":1273477083,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI3OTg=","github-url":"https://github.com/parrot/parrot/issues/335#issuecomment-3502798"},"message":"\u003cp\u003e\nThe error messages is currently:\n\u003c/p\u003e\n\n\u003cpre class=\"wiki\"\u003eerror:imcc:The opcode 'new_p_ic' (new\u0026lt;2\u0026gt;) was not found. Check the type and number of the arguments\n\u003c/pre\u003e\u003cp\u003e\nHere's why:\n\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eBarewords that aren't predefined variables are assumed to be labels.\n\u003c/li\u003e\u003cli\u003eThe 'ic' op fullname arg code is used both for integer constants and labels.\n\u003c/li\u003e\u003cli\u003eInstruction selection occurs right as we parse the op, meaning we cannot know that there isn't a label 'INTVAL' somewhere.\n\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\nHere's how we might improve the situation:\n\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eMake label op arguments take a prefix (eg: '\u0026amp;')\n\u003c/li\u003e\u003cli\u003eMake label op arguments represented by a different code in fullnames (eg: 'lbl')\n\u003c/li\u003e\u003cli\u003eRequire predeclaration of labels\n\u003c/li\u003e\u003cli\u003eParse all the way through a sub before selecting instructions\n\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\nI'm open to suggestions.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1287294438,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI3OTk=","github-url":"https://github.com/parrot/parrot/issues/335#issuecomment-3502799"},"message":"\u003cp\u003e\nCan anyone comment on plobsing's suggestions?\n\u003c/p\u003e\n\n\u003cp\u003e\nThank you very much.\n\u003c/p\u003e\n\n\u003cp\u003e\nkid51\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1356125163,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNjI3NTIx","github-url":"https://github.com/parrot/parrot/issues/335#issuecomment-11627521"},"message":"From the 4 options:\n1. Make label op arguments take a prefix (eg: '\u0026')\n2. Make label op arguments represented by a different code in fullnames (eg: 'lbl')\n3. Require predeclaration of labels\n4. Parse all the way through a sub before selecting instructions\n\nonly the forth seems to make sense. \n\nBut I am baffled that new can accept a label at all. labels should be restricted in the specs, \nsince the make only sense for a limited number of ops.","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413202856,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4ODg0MjA0","github-url":"https://github.com/parrot/parrot/issues/335#issuecomment-58884204"},"message":"I didn't change the parser to check for labels beforehand, rather fixed the test to check for the current error: `error:imcc:wrong .const value` and added the name of the unfound .const, here `\"a\"`.\nSee `rurban/new-INTVAL-gh335`","files":null},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413206765,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MTc3NjQ0NDYx"},"added":[],"removed":["Todo"]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413206769,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE3NzY0NDQ4Nw=="},"added":["Patch"],"removed":[]},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413210737,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTc3Njc5NjQz"},"status":2}]}