{"version":1,"ops":[{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357405020,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTE2MzIz","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11916323"},"message":"Are those missing dll's in your `parrot/MANIFEST.generated`?\n\nIf not, they were not built. That means you had old dll's in your `runtime/parrot/dynext/`, they were not added to `MANIFEST.generated` during build-time, and thus not installed. \nThe solution is to **make clean**, before attempting a **make install**. See also #910\n\nIn the rakudo build-step `git clean -dxf` does not clean out parrot as it is in `.gitignore`. `rm -rf parrot` then, and do a fresh \n`--gen-parrot=master`","files":null},{"type":3,"author":{"id":"4277d85693ce7ae3559eb0a94f3b50be93446600"},"timestamp":1357407167,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTE2ODMx","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11916831"},"message":"They indeed do not appear in `MANIFEST.generated`. However, I build my parrots manually and did a `git clean -xdf` in the Parrot source tree.\n\nCould this be related to 8874c43719?","files":null},{"type":3,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1357407916,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTE2OTk0","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11916994"},"message":"On Sat, Jan 05, 2013 at 08:57:05AM -0800, Reini Urban wrote:\n\n\u003e The solution is to make clean, before attempting a make install. \n\nI'm sorry, but to me that's just horribly non-standard.  I've \nnever encountered a build environment where you were expected to \n\"make clean\" before doing \"make install\".\n\n\u003e In the rakudo build-step git clean -dxf does not clean out parrot as it is in\n\u003e .gitignore. rm -rf parrot then, and do a fresh\n\u003e --gen-parrot=master\n\nNote that \"rm -rf parrot\" will force a \"git clone\" the next time\n--gen-parrot is used, and cloning the Parrot repository is currently\nvery expensive and time consuming.\n\nI suggest fixing things so that one doesn't have to clean the\nParrot repository before rebuilding/installing (see above), but\nshort of that, better than \"rm -rf parrot\" would be\n\"cd parrot; make realclean\" or else \"cd parrot; git clean -xdf\"\nif you know the parrot/ dir is a git repository.\n\nPm","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1357413235,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTE4MjYw","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11918260"},"message":"@rurban something is not quite right, because according to the git clean manpage:\n\n```\n -x\n           Donâ€™t use the ignore rules. This allows removing all untracked files, including build products. This can be used (possibly in conjunction with git reset) to create a pristine\n           working directory to test a clean build.\n```\n\nI am not sure it is useful, but there is also the -X option to clean:\n\n```\n-X\n           Remove only files ignored by git. This may be useful to rebuild everything from scratch, but keep manually created files.\n```","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357430414,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTIxOTcy","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11921972"},"message":"@pmichaud : You are right. Relying on a properly cleaned build to be able to install the library is horrible.\nOur previous state of relying on a manual MANIFEST.generated was also horrible, as we forgot to install \nvarious files by forgetting them to add to MANIFEST.generated over the years.\n\nAs first countermeasure I added a small sanity check at make install. (#910)\n\nWe might need to keep a manual MANIFEST.install list, which will list all potential to be installed files, \nor extend our existing Parrot::Manifest library to add the needed files to be installed, which were generated\nin a previous build step, before MANIFEST.generated was deleted by a fresh configure step.\n\nOr we could simply do a make clean when doing perl Configure.\n\nOne problem with our old manual MANIFEST.generated was that the list was too long, and we did not die\nwhen we did not find a list entry. We must die if we cannot install a needed file. With the new list we are sure\nthat those entries exist, so we need to die. But we are not sure if the generated list is complete.\n\nSee ticket #910","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357570297,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTU0MTQ1","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11954145"},"message":"Most make install cases cases are now covered in the branch `rurban/sanitycheck_install-gh910`.\n\nThe only thing left is a git pull which adds to be installed files in implicit rules, and a simple make \nwithout running make reconfig or perl Configure.pl. The build-system will not know about these.\n\nThe last options would be to keep a manual MANIFEST.install list, but I don't like this option, \nas it is as fragile as before and error-prone, and does not die on missing files.\nOr an extended Parrot::Manifest to check for all required files.","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357595809,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTczODQ2","github-url":"https://github.com/parrot/parrot/issues/914#issuecomment-11973846"},"message":"Fixed with the merge of `rurban/sanitycheck_install-gh910`. All dynext files have now an extra pre-install check","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357595809,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzM2NDY5NjQ="},"status":2}]}