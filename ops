{"version":1,"ops":[{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1437619065,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyMzkzODk4OA==","github-url":"https://github.com/parrot/parrot/issues/1206#issuecomment-123938988"},"message":"As of RELEASE_7_0_0, git clean -dnx only showed 3 directories:\n\n```\n$ cat f9bb25b.git.clean.dnx.txt \nWould remove lib/Parrot/Config/\nWould remove runtime/parrot/languages/JSON/\nWould remove runtime/parrot/languages/winxed/\n```\n\nOf course, even the fact that 'make realclean' was leaving 3 directories behind is not good.  IIRC -- and we're going back \u003e= 3 years here -- 'make realclean' was expected to be the most thorough clean-up tool (even before we moved to git).\n\nAt HEAD we're leaving behind 288 entries if we call 'make realclean' after 'make'.  But if we call 'make test' in between, we're leaving behind 1705 entries.\n\n```\n[parrot] 12 $ wc -l a6d5d17.git.clean.dnx.txt \n1705 a6d5d17.git.clean.dnx.txt\n[parrot] 13 $ wc -l a6d5d17.git.clean.dnx.make.only.txt \n288 a6d5d17.git.clean.dnx.make.only.txt\n```","files":null},{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1437619393,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyMzk0MDE5Mg==","github-url":"https://github.com/parrot/parrot/issues/1206#issuecomment-123940192"},"message":"The section of config/gen/makefiles/root.in which governs the 'realclean' target was touched in commit 396a5b067 on 2014-11-12.  That's probably a good point at which to start investigating.","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1437729818,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyNDQ1NDI5MQ==","github-url":"https://github.com/parrot/parrot/issues/1206#issuecomment-124454291"},"message":"@jkeenan Thanks. Yes, I made prog-clean running archclean in 396a5b0, where I might have forgotten cleaning up some generated files. \nrealclean needs to run archclean, but it does so in prog-clean.\n\nThe problem with the GEN_CONFIGS and CONFIGURE_GENERATED_FILES in realclean is that some  generated files do not appear in these lists: see issue #1194 e.g.\n@Util properly identified the problem in his `t/distro/manifest_generated.t` change\n\nIt's a much bigger problem in `make install` than in `make clean` though.","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1445291614,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0OTM1ODk0MA==","github-url":"https://github.com/parrot/parrot/issues/1206#issuecomment-149358940"},"message":"Found out why. When I optimized RM_F to use the coreutils and not ExtUtils::Command anymore, the string-quoted args with wildchars were not expanded anymore.\n`rm \"src/pmc/*.dump\"` will do nothing.\n\n`make clean realclean` leads now to an empty `git clean -dxn`","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1445293143,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDM5NzAwNDI0"},"status":2}]}