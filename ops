{"version":1,"ops":[{"type":3,"author":{"id":"96fb2e2e33b59677e3a85ec74746c085275c50d1"},"timestamp":1259793408,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1NDI=","github-url":"https://github.com/parrot/parrot/issues/548#issuecomment-3503542"},"message":"\u003cp\u003e\nIt looks like this ticket still applies.\n\u003c/p\u003e\n\n\u003cp\u003e\nI was investigating a problem with t/pmc/complex.t and extracted the following test:\n\u003c/p\u003e\n\n\u003cpre class=\"wiki\"\u003e#! parrot\n.sub main :main\n    .include 'test_more.pir'\n    .include 'fp_equality.pasm'\n    .include \"iglobals.pasm\"\n    plan(3)\n    $P0 = subclass 'Complex', 'MyComplex'\n    addattribute $P0, \"re\"\n    addattribute $P0, \"im\"\n    .local pmc a, b, c\n    ##   a = 1 + 2i\n    a = new ['MyComplex']\n    a['real'] = 1\n    a['imag'] = 2\n    is( a, \"1+2i\", 'a created' )\n    ##   b = 3 + 4i\n    b = new ['MyComplex']\n    b['real'] = 3\n    b['imag'] = 4\n    is( b, \"3+4i\" , 'b created' )\n    ##   a = a + b\n    a = add a, b\n    is( a, \"4+6i\", 'subclass add' )\n.end\n\u003c/pre\u003e\u003cp\u003e\nwith the following results:\n\u003c/p\u003e\n\u003cpre class=\"wiki\"\u003emhb@mhb-desktop:~/parrot$ date\nWed Dec  2 13:09:06 GMT 2009\nmhb@mhb-desktop:~/parrot$ prove -v t/pmc/sub_comp.t\nt/pmc/sub_comp.t ..\n1..3\nok 1 - a created\nok 2 - b created\nnot ok 3 - subclass add\n\n# Have: 0+0i\n\n# Want: 4+6i\n\nFailed 1/3 subtests\n\n## Test Summary Report\n\nt/pmc/sub_comp.t (Wstat: 0 Tests: 3 Failed: 1)\n  Failed test:  3\nFiles=1, Tests=3,  0 wallclock secs ( 0.02 usr  0.00 sys +  0.01 cusr  0.02 csys =  0.05 CPU)\nResult: FAIL\n\u003c/pre\u003e\u003cp\u003e\nreturning 0+0i and not doing the add but overwriting the original value.\n\u003c/p\u003e","files":null}]}