{"version":1,"ops":[{"type":1,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1243389447,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NDQ4","github-url":"https://github.com/parrot/parrot/issues/251","origin":"github"},"title":"Pmc2c should generate mark and destroy VTABLES","message":"Pending discussion today in #ps: \n\n```\n\u003cWhiteknight\u003e Propose adding a PObj flag \"PObj_uses_malloc_attrs_FLAG\" to automatically deallocate Parrot_*_attribute structures in the GC. Thoughts?\n\u003cchromatic\u003e Alternative: smarten Pmc2C such that it automatically generates mark() and destroy() VTABLEs as necessary.\n\u003callison\u003e prefer chromatic's solution\n```\n\nPmc2c.pl should be smart enough to:\n- automatically generate a mark() vtable to mark all STRING and PMC attrs, unless the user has specifically provided one, and\n- automatically generate a destroy() vtable to deallocate the Parrot_*_attributes structure, unless the user has already provided one.\n\nThere are lots of good reasons to do this.\n\nOriginally http://trac.parrot.org/parrot/ticket/709","files":null}]}