{"version":1,"ops":[{"type":1,"author":{"id":"5c5a1437d57bc93e00fe40289d8c8a34b3bf11f0"},"timestamp":1331024017,"metadata":{"github-id":"MDU6SXNzdWUzNTIwOTU3","github-url":"https://github.com/parrot/parrot/issues/730","origin":"github"},"title":"t/pmc/nci.t sub-test 'nci_cb_D4 - synchronous callbacks' is timing / speed-dependent","message":"It appears that the test labeled 'nci_cb_D4 - synchronous callbacks' in t/pmc/nci.t in Parrot 3.10.0 is dependent on the speed of the CPU the test is performed on.  On my lowly 1GHz P3 system, this test failed, because the conversion to a synchronous callback happened too early to get the expected result.  Doubling the time fixed it for me,\nbut we're not in a hurry, so I suggest this change instead, multiplying the time with 20x:\n\n```\n--- t/pmc/nci.t.orig    2012-03-06 08:42:14.000000000 +0000\n+++ t/pmc/nci.t\n@@ -1917,7 +1917,7 @@ OUTPUT\n\n     # Need to force reschedule to see async callbacks.\n     # Chandon TODO: Is this a bug?\n-    sleep 0.001\n+    sleep 0.02\n\n     # reset int_cb_D4 to 1\n     int_cb_D4[0] = 1\n```\n\nI have not yet checked to see if the same issue exists in newer versions of Parrot.","files":null}]}