{"version":1,"ops":[{"type":1,"author":{"id":"8c86ede03c8e80b0dad5131138f96e957a4ee66b"},"timestamp":1380770780,"metadata":{"github-id":"MDU6SXNzdWUyMDQzNTQ2Nw==","github-url":"https://github.com/parrot/parrot/issues/985","origin":"github"},"title":"Integer assignment changes type","message":"Reported by: zefram@fysh.org\n\ndocs/pdds/pdd17_pmc.pod says of the Integer PMC class:\n\n\u003e Floating point, string, and bignum values assigned to an Integer\n\u003e PMC round to the nearest integer.\n\nThis implies that assigning a string to an Integer PMC leaves it still an Integer, only changing its value. In fact, assigning a string, boxed or unboxed, changes the Integer into a String PMC:\n\n```\n$ cat t24.pir \n.sub main :main\n        $P0 = new \"Integer\"\n        assign $P0, \"3\"\n        $S0 = typeof $P0\n        say $S0\n        $P1 = new \"Integer\"\n        $P2 = box \"3\"\n        assign $P1, $P2\n        $S1 = typeof $P1\n        say $S1\n.end\n$ ./parrot t24.pir \nString\nString\n```\n\nIn similar fashion, assigning a float changes in into a Float PMC, and assigning a BigInt PMC changes it into a BigInt PMC. I expect this is a documentation bug, rather than an implementation bug.\n\n-zefram","files":null}]}