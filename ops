{"version":1,"ops":[{"type":1,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1357328428,"metadata":{"github-id":"MDU6SXNzdWU5NjkyMzUy","github-url":"https://github.com/parrot/parrot/issues/912","origin":"github"},"title":"NCI error from t/library/pg.t","message":"```\n$ prove -lrv t/library/pg.t \nt/library/pg.t .. \n1..43\nok 1 - load_bytecode\nok 2 - load_bytecode Pg\nok 3 - Pg class exists\nok 4 - con isa Pg;Conn\nok 5 - con is true after connect\nok 6 - con.status() == CONNECTION_OK \nok 7 - status(PGconn) == CONNECTION_OK \nok 8 - exec BEGIN called\nok 9 - res isa Pg;Result\nok 10 - res.resultStatus() == PGRES_COMMAND_OK \nok 11 - table created PGRES_COMMAND_OK \nok 12 - insert row PGRES_COMMAND_OK \nok 13 - select * PGRES_TUPLES_OK \nok 14 - res.ntuples == 1\nok 15 - res.nfields == 3\nok 16 - notice receiver called\nok 17 - notice callback got a struct\nnot ok 18 # TODO \n#   Failed (TODO) test 'notice result is still ok'\nNo NCI thunk available for signature `STRING (ptr, ptr, int)'\ncurrent instr.: 'parrot;Pg;cstring_ret_wrapper' pc 130 (/media/ssd/git/parrot/runtime/parrot/library/postgres.pir:59)\ncalled from Sub 'parrot;Pg;Result;fname' pc 587 (/media/ssd/git/parrot/runtime/parrot/library/Pg.pir:407)\ncalled from Sub 'main' pc 433 (t/library/pg.t:128)\nDubious, test returned 1 (wstat 256, 0x100)\nFailed 25/43 subtests \n\nTest Summary Report\n-------------------\nt/library/pg.t (Wstat: 256 Tests: 18 Failed: 0)\n  Non-zero exit status: 1\n  Parse errors: Bad plan.  You planned 43 tests but ran 18.\nFiles=1, Tests=18,  0 wallclock secs ( 0.02 usr  0.00 sys +  0.02 cusr  0.02 csys =  0.06 CPU)\nResult: FAIL\n(sarkomand)(~/git/parrot master $%= )$ git rev-parse HEAD\n85a4324a22c8bbe64f6063fb4c03e1af1f6fcf02\n```","files":null}]}