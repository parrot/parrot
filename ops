{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1421667926,"metadata":{"github-id":"MDU6SXNzdWU1NDc1NDUwNw==","github-url":"https://github.com/parrot/parrot/issues/1180","origin":"github"},"title":"powerpc: Unknown codeset `', defaulting to ASCII","message":"This pollutes stderr with a startup banner. No other problems, but pollutes the tests and usage.\n\nProbably caused by 202c7f8fd79bdc964854acc27ab476cdafbf8d5e\n`src/platform/generic/encoding.c:` unify platform encoding.c, support all.\n\nWe should probably silently set the ascii_encoding_ptr on an empty codeset returned by  nl_langinfo.\n\n```\n--- src/platform/generic/encoding.c\n+++ src/platform/generic/encoding.c\n@@ -58,6 +58,8 @@ Parrot_init_platform_encoding(SHIM_INTERP)\n               || STREQ(codeset, \"US-ASCII\")   /* freebsd */\n               || STREQ(codeset, \"646\"))       /* bsd */\n             Parrot_platform_encoding_ptr = Parrot_ascii_encoding_ptr;\n+        else if (!*codeset) /* do not warn on empty  */\n+            Parrot_platform_encoding_ptr = Parrot_ascii_encoding_ptr;\n         else {\n             /* Can't use Parrot_warn here, the interpreter is not ready */\n             fprintf(stderr,\n```","files":null}]}