{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1393549895,"metadata":{"github-id":"MDU6SXNzdWUyODQ3MDc1MQ==","github-url":"https://github.com/parrot/parrot/issues/1044","origin":"github"},"title":"-O2 t/pmc/exception-old_19.pir regression","message":"```\n$ ./parrot -d7161 -O2 t/pmc/exception-old_19.pir\ndebug = 0x7161, optim = 0x3\nReading t/pmc/exception-old_19.pir\nopt1 0xcbd032e0 set redux, 0\n  =\u003e 0xcbd03f30 null redux\npropagating constant 0xcbd03f30 null redux\n    checking op 0xcbd03420 print \"calling test\\n\"\n    checking op 0xcbd03610  @pcc_sub_call_0:\n    checking op 0xcbd041f0 set_args\n    checking op 0xcbd04170 set_p_pc __imcc_temp_2, test\n    checking op 0xcbd04270 invokecc __imcc_temp_2\n    checking op 0xcbd04380 get_results\n    checking op 0xcbd03770 print \"back from test\\n\"\n    checking op 0xcbd03870 if redux, done\n checking register 0 0xcbd03870 if redux, done\n    propagating into register 0: 0xcbd03870 if redux, done\nopt if_xc_ic =\u003e deleted\n deleted 0xcbd03870 if 0, done\npropagating constant 0xcbd03970 set redux, 1\n    checking op 0xcbd03ab0 print \"calling cont\\n\"\n    checking op 0xcbd03c20  @pcc_sub_call_1:\n    checking op 0xcbd04430 set_args\n    checking op 0xcbd044b0 invokecc cont\n    checking op 0xcbd04530 get_results\n    checking op 0xcbd03d30 print \"never.\\n\"\nblock 1 label done deleted\npropagating constant 0xcbd03f30 null redux\n    checking op 0xcbd03420 print \"calling test\\n\"\n    checking op 0xcbd03610  @pcc_sub_call_0:\n    checking op 0xcbd041f0 set_args\n    checking op 0xcbd04170 set_p_pc __imcc_temp_2, test\n    checking op 0xcbd04270 invokecc __imcc_temp_2\n    checking op 0xcbd04380 get_results\n    checking op 0xcbd03770 print \"back from test\\n\"\n    checking op 0xcbd03970 set redux, 1\n checking register 0 0xcbd03970 set redux, 1\npropagating constant 0xcbd03970 set redux, 1\n    checking op 0xcbd03ab0 print \"calling cont\\n\"\n    checking op 0xcbd03c20  @pcc_sub_call_1:\n    checking op 0xcbd04430 set_args\n    checking op 0xcbd044b0 invokecc cont\n    checking op 0xcbd04530 get_results\n    checking op 0xcbd03d30 print \"never.\\n\"\n    checking op 0xcbd03ec0 print \"done.\\n\"\n    checking op 0xcbd032e0 set_returns\n    checking op 0xcbd04030 returncc\nsub main:\n    registers in .pir:   I1, N0, S0, P1\n    1 labels, 2 lines deleted, 0 if_branch, 0 branch_branch\n    0 branch_cond_loop\n    0 used once deleted\n    0 invariants_moved\n    registers needed:    I1, N0, S0, P2\n    registers in .pasm:  I1, N0, S0, P2 - 1\n    1 basic_blocks, 0 edges\nPMC constant test\ncode_size(ops) 34  old_size 0\nconst \"calling cont\\n\"  color 0 use_count 1\nconst \"calling test\\n\"  color 1 use_count 1\nconst 0 color 0 use_count 2\nconst 1 color 1 use_count 1\nconst \"done.\\n\" color 2 use_count 1\nPMC const \"(0x0002)\"    color 0\nconst \"(0x0002)\"    color 0 use_count 1\nconst \"never.\\n\"    color 3 use_count 1\nPMC const \"()\"  color 1\nconst \"()\"  color 1 use_count 4\nconst \"back from test\\n\"    color 4 use_count 1\nadd_const_pmc_sub 'main' flags 10 color 2 (Sub) lex_info no :outer(*none*)\n0 null_i 0  0xcbd03f30 null I0\n2 print_sc 1    0xcbd03420 print \"calling test\\n\"\n4 set_args_pc 1 0xcbd041f0 set_args\n6 set_p_pc 0 0  0xcbd04170 set_p_pc P0, test\n9 invokecc_p 0  0xcbd04270 invokecc P0\n11 get_results_pc 0 1   0xcbd04380 get_results\n14 print_sc 4   0xcbd03770 print \"back from test\\n\"\n16 set_i_ic 0 1 0xcbd03970 set I0, 1\n19 print_sc 0   0xcbd03ab0 print \"calling cont\\n\"\n21 set_args_pc 1    0xcbd04430 set_args\n23 invokecc_p 1 0xcbd044b0 invokecc P1\n25 get_results_pc 1 0xcbd04530 get_results\n27 print_sc 3   0xcbd03d30 print \"never.\\n\"\n29 print_sc 2   0xcbd03ec0 print \"done.\\n\"\n31 set_returns_pc 1 0xcbd032e0 set_returns\n33 returncc 0xcbd04030 returncc\nsub test:\n    registers in .pir:   I0, N0, S0, P1\n    0 labels, 0 lines deleted, 0 if_branch, 0 branch_branch\n    0 branch_cond_loop\n    0 used once deleted\n    0 invariants_moved\n    registers needed:    I0, N0, S0, P2\n    registers in .pasm:  I0, N0, S0, P2 - 1\n    3 basic_blocks, 3 edges\nPMC constant foo\ncode_size(ops) 27  old_size 34\nconst \"  test:  caught error\\n\" color 9 use_count 1\nconst \"  calling foo\\n\" color 10 use_count 1\nconst \"  returning from test.\\n\"    color 11 use_count 1\nadd_const_pmc_sub 'test' flags 0 color 3 (Sub) lex_info no :outer(*none*)\nbranch label at pc 0 addr 20 handle_errs 20\n0 push_eh_ic    0xcbd05400 push_eh handle_errs\n2 print_sc 10   0xcbd054e0 print \"  calling foo\\n\"\n4 set_args_pc 1 0xcbd06010 set_args\n6 set_p_pc 1 0  0xcbd05f90 set_p_pc P1, foo\n9 invokecc_p 1  0xcbd06090 invokecc P1\n11 get_results_pc 0 0   0xcbd06110 get_results\n14 print_sc 11  0xcbd05870 print \"  returning from test.\\n\"\n16 set_returns_pc 0 0   0xcbd06190 set_returns\n19 returncc 0xcbd06210 returncc\n20 pop_eh   0xcbd05af0 pop_eh\n21 print_sc 9   0xcbd05c30 print \"  test:  caught error\\n\"\n23 set_returns_pc 0 0   0xcbd062c0 set_returns\n26 returncc 0xcbd06340 returncc\nsub foo:\n    registers in .pir:   I0, N0, S0, P2\n    0 labels, 0 lines deleted, 0 if_branch, 0 branch_branch\n    0 branch_cond_loop\n    0 used once deleted\n    0 invariants_moved\n    registers needed:    I0, N0, S0, P2\n    registers in .pasm:  I0, N0, S0, P2 - 2\n    3 basic_blocks, 3 edges\ncode_size(ops) 22  old_size 61\nconst 'Continuation'    color 13 use_count 1\nconst \"    got over there.\\n\"   color 14 use_count 1\nconst \"    returning from foo\\n\"    color 15 use_count 1\nconst 'Exception'   color 16 use_count 1\nconst 'Continuation'    color 13 use_count 1\nconst 'Exception'   color 16 use_count 1\nadd_const_pmc_sub 'foo' flags 0 color 6 (Sub) lex_info no :outer(*none*)\n0 new_p_pc 0 4  0xcbd06f80 new P0, ['Continuation']\nbranch label at pc 3 addr 12 over_there 9\n3 set_label_p_ic 0  0xcbd07060 set_label P0, over_there\n6 print_sc 15   0xcbd07180 print \"    returning from foo\\n\"\n8 set_returns_pc 0 0    0xcbd079a0 set_returns\n11 returncc 0xcbd07a20 returncc\n12 print_sc 14  0xcbd074b0 print \"    got over there.\\n\"\n14 new_p_pc 1 5 0xcbd07750 new P1, ['Exception']\n17 throw_p 1    0xcbd077d0 throw P1\n19 set_returns_pc 1 0xcbd07850 set_returns\n21 returncc 0xcbd078c0 returncc\nfixup const PMC sub 'test' const nr: 3\nfixup const PMC sub 'foo' const nr: 6\n1 lines compiled.\ncalling test\n  calling foo\n    returning from foo\n  returning from test.\nback from test\ncalling cont\n    got over there.\n  test:  caught error\nback from test\ncalling cont\n    got over there.\nNo exception handler and no message\ncurrent instr.: 'foo' pc 78 (t/pmc/exception-old_19.pir:47)\ncalled from Sub 'test' pc 60 (t/pmc/exception-old_19.pir:34)\ncalled from Sub 'main' pc 25 (t/pmc/exception-old_19.pir:18)\n```","files":null}]}