{"version":1,"ops":[{"type":1,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1421693276,"metadata":{"github-id":"MDU6SXNzdWU1NDc5OTAzMQ==","github-url":"https://github.com/parrot/parrot/issues/1181","origin":"github"},"title":"fix --m=64, on debian multilib (powerpc)","message":"debian powerpc64 defaults to 32bit, but forcing --m=64 generates wrong definitions.\n\nIt generates false `-L/usr/local/lib64-fstack-protector`, still uses invalid `-L/usr/local/lib` and `-L/usr/lib`, thus falsely detects **icu** and other libs as available while they are not for the selected architecture. only the 32bit versions are.\n\nI believe mips64, sparc64 and arm64 have the same problem, but mips64 is a special case already handled before, in auto::gcc: e7819abac98ba4290 and 37ed548116d5340fdd25bf8bda31 in GH #1110.\n\nSee also http://trac.parrot.org/parrot/ticket/356\n\nSee \"necessary platform adjustments\" in `auto::gcc::_evaluate_gcc`\n\nTest: `perl Configure.pl --m=64 --verbose-step=auto::icu \u0026\u0026 grep /lib config_lib.pir` on one of ppc64, mips64, sparc64, arm64 and check it manually. \n\nAlso check if if icu is detected in subsequent #1182 , when it should not. debian squeeze and wheezy don't have icu multilib ports, so it must not be detected.","files":null}]}