{"version":1,"ops":[{"type":1,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1305189032,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NTEz","github-url":"https://github.com/parrot/parrot/issues/316","origin":"github"},"title":"Can't find asm/errno.h","message":"I just upgraded my laptop to Ubuntu 11.04, and immediately there is a problem building Parrot.\n\n```\nIn file included from src/datatypes.c:23:\nIn file included from ./include/parrot/parrot.h:35:\nIn file included from /usr/include/errno.h:36:\nIn file included from /usr/include/bits/errno.h:25:\n/usr/include/linux/errno.h:4:10: fatal error: 'asm/errno.h' file not found\n```\n\nerrno.h used to be in /usr/include/asm/errno.h, but as of Ubuntu 11.04 it appears in these locations:\n\n```\n\u003e locate errno.h\n/opt/intel/Compiler/11.1/064/Documentation/en_US/compiler_c/main_cls/copts/common_options/option_fmath_errno.htm\n/opt/intel/Compiler/11.1/064/Documentation/ja_JP/compiler_c/main_cls/copts/common_options/option_fmath_errno.htm\n/usr/include/errno.h\n/usr/include/asm-generic/errno.h\n/usr/include/bits/errno.h\n/usr/include/linux/errno.h\n/usr/include/sys/errno.h\n/usr/lib/syslinux/com32/include/errno.h\n```\n\nSo it looks like it's in /usr/include/errno.h (\"#include \u003cerrno.h\u003e\") or in /usr/include/asm-generic/errno.h (\"#include \u003casm-generic/errno.h\u003e\"). What's weird is that the two files are not the same, and don't define the same constants. It looks like Parrot will build with /usr/include/asm-generic/errno.h, but fails with a symbol undefined error with /usr/include/errno.h. I don't know if this is a \"bug\" as far as Ubuntu is concerned or not. It certainly seems undesired to me.\n\nI can, as a temporary fix, use a symlink to put the files in the correct places. However, For completeness, I wonder if we should do any of the following:\n- Try to avoid using asm/errno.h in our code, if possible\n- Add a configure probe to search for the correct errno.h\n- Yell at Ubuntu until they fix this.\n\nAny of these are fine, I just want to get some opinions about it. If more people upgrade ubuntu and run into these problems, we will be getting more reports about it.\n\nOriginally http://trac.parrot.org/parrot/ticket/2109","files":null}]}