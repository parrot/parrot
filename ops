{"version":1,"ops":[{"type":1,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1313682606,"metadata":{"github-id":"MDU6SXNzdWUyODQ4Nzgz","github-url":"https://github.com/parrot/parrot/issues/575","origin":"github"},"title":"Bug in HashIteratorKey .value method when used with LexPad PMC","message":"When iterating a LexPad PMC, the .value method of the pairs (HashIteratorKey) returned from the iterator returns register offsets instead of the actual value.  Code follows:\n\n```\n$ cat a.pir\n.sub 'main' :main\n    .lex '$a', $P99\n    $P99 = box 54321\n\n    .local pmc lexpad, lexiter\n    $P0 = getinterp\n    lexpad = $P0['lexpad']\n\n    lexiter = iter lexpad\n  loop:\n    unless lexiter goto done\n    .local pmc item, key, value\n    item = shift lexiter\n    key = item.'key'()\n    value = item.'value'()\n    print \"item.key         = \"\n    say key\n    print \"item.value       = \"\n    say value\n    print \"lexpad[item.key] = \"\n    $P0 = lexpad[key]\n    say $P0\n    goto loop\n  done:\n.end\n\n$ ./parrot a.pir\nitem.key         = $a\nitem.value       = 23\nlexpad[item.key] = 54321\n$ \n```\n\nitem.value above should be 54321 (the value of $a).\n\nPm\n\nOriginally http://trac.parrot.org/parrot/ticket/2181","files":null}]}