{"version":1,"ops":[{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1250846118,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDMwMTQ=","github-url":"https://github.com/parrot/parrot/issues/401#issuecomment-3503014"},"message":"\u003cp\u003e\nThe code snippet\n\u003c/p\u003e\n\n\u003cpre class=\"wiki\"\u003e    $P1=new [\"Complex\"]\n    $P1=\"NaN\"\n\u003c/pre\u003e\u003cp\u003e\nnow gives the error\n\u003c/p\u003e\n\u003cpre class=\"wiki\"\u003eComplex: malformed string\ncurrent instr.: 'test_complex_nan' pc 21447 (t/pmc/complex.t:1170)\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1250846805,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDMwMTU=","github-url":"https://github.com/parrot/parrot/issues/401#issuecomment-3503015"},"message":"\u003cpre class=\"wiki\"\u003e    $P1 = new [\"Complex\"]\n    $N0 = 'NaN'\n    set $P1, \"1 + i\"\n    $P1 += $N0\n    say $P1\n\u003c/pre\u003e\u003cp\u003e\nprints\n\u003c/p\u003e\n\u003cpre class=\"wiki\"\u003eNaN+1i\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"0782f66a529ccd24e18226f5eebab20a90bea166"},"timestamp":1250848882,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDMwMTY=","github-url":"https://github.com/parrot/parrot/issues/401#issuecomment-3503016"},"message":"\u003cpre class=\"wiki\"\u003eOn Thu, Aug 20, 2009 at 10:26 PM, Parrot\u0026lt;parrot-tickets@lists.parrot.org\u0026gt; wrote:\n\u0026gt; #358: complex NaN\n\u0026gt; --------------------+-------------------------------------------------------\n\u0026gt;  Reporter:  rurban  |       Owner:  dukeleto\n\u0026gt;     Type:  bug     |      Status:  assigned\n\u0026gt;  Priority:  normal  |   Milestone:\n\u0026gt; Component:  core    |     Version:\n\u0026gt;  Severity:  medium  |    Keywords:\n\u0026gt;     Lang:          |       Patch:\n\u0026gt;  Platform:          |\n\u0026gt; --------------------+-------------------------------------------------------\n\u0026gt;\n\u0026gt; Comment(by dukeleto):\n\u0026gt;\n\u0026gt;  {{{\n\u0026gt;     $P1 = new [\"Complex\"]\n\u0026gt;     $N0 = 'NaN'\n\u0026gt;     set $P1, \"1 + i\"\n\u0026gt;     $P1 += $N0\n\u0026gt;     say $P1\n\u0026gt;  }}}\n\u0026gt;  prints\n\u0026gt;  {{{\n\u0026gt;  NaN+1i\n\u0026gt;  }}}\n\u0026gt;\nShould it print Nan+1i or just NaN? (How infectious /is/ Nan?)\n--\nWill \"Coke\" Coleda\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1250869356,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDMwMTc=","github-url":"https://github.com/parrot/parrot/issues/401#issuecomment-3503017"},"message":"\u003cp\u003e\nI am going on the assumption that there \"can be only one\" NaN. The entity 'NaN' is for encoding the idea that we should represent an invalid arithmetic operation as something special. There is no \"real\" NaN and \"complex\" NaN. *All* arithmetic operations, no matter they be real or complex, that contain a NaN should simplify to NaN. The partial patch that was added to this ticket adds some support for parsing complex numbers of the form \"NaN+2*i\" and such, but there are still all kinds of other ways that you can make either the real or imaginary part of the resulting number NaN that does not require parsing a string, and these are the cases where we still have bugs.\n\u003c/p\u003e\n\n\u003cp\u003e\nAlso, the patch attached is quite old and the tests no longer compile, but it is a good start.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1301219556,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDMwMTg=","github-url":"https://github.com/parrot/parrot/issues/401#issuecomment-3503018"},"message":"\u003cp\u003e\nplobsing,\n\u003c/p\u003e\n\n\u003cp\u003e\nAs with TT \u003ca class=\"closed ticket\" href=\"http://trac.parrot.org/parrot/ticket/954\" title=\"RFC: Inf/NaN from ieee754-2008 (closed: wontfix)\"\u003e#954\u003c/a\u003e, based on your work around infnan, can you evaluate the issues discussed in this ticket?\n\u003c/p\u003e\n\n\u003cp\u003e\nThank you very much.\n\u003c/p\u003e\n\n\u003cp\u003e\nkid51\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1319070861,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDMwMTk=","github-url":"https://github.com/parrot/parrot/issues/401#issuecomment-3503019"},"message":"\u003cp\u003e\nWe need a branch that has tests for this bug. It is still present.\n\u003c/p\u003e","files":null}]}