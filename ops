{"version":1,"ops":[{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357584868,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTY1MDA4","github-url":"https://github.com/parrot/parrot/issues/919#issuecomment-11965008"},"message":"Theoretically makepp needs this\n\n```\n# makepp searches only in . for suffix rules\nifdef MAKEPP_VERSION\npercent_subdirs := 2\nendif\n```\n\nBut it did not work for me.\nI needed those explicit dir rules:\n\nifdef MAKEPP_VERSION\nsrc/pmc/%.str: src/pmc/%.c # makepp does not search into subdirs\n    $(PERL) $(BUILD_TOOLS_DIR)/c2str.pl $\u003c \u003e $@\nsrc/call/%.str: src/call/%.c\n    $(PERL) $(BUILD_TOOLS_DIR)/c2str.pl $\u003c \u003e $@\nsrc/gc/%$(O): src/gc/%.c\n    $(CC) $(CFLAGS)  $(CC_WARN) -I$(@D)/. -Isrc -o $@ -c $\u003c\nsrc/call/%$(O): src/call/%.c\n    $(CC) $(CFLAGS)  $(CC_WARN) -I$(@D)/. -Isrc -o $@ -c $\u003c\nsrc/string/%$(O): src/string/%.c\n    $(CC) $(CFLAGS)  $(CC_WARN) -I$(@D)/. -Isrc -o $@ -c $\u003c\nsrc/string/encoding/%$(O): src/string/encoding/%.c\n    $(CC) $(CFLAGS)  $(CC_WARN) -I$(@D)/. -Isrc -o $@ -c $\u003c\nsrc/io/%$(O): src/io/%.c\n    $(CC) $(CFLAGS)  $(CC_WARN) -I$(@D)/. -Isrc -o $@ -c $\u003c\nsrc/embed/%$(O): src/embed/%.c\n    $(CC) $(CFLAGS)  $(CC_WARN) -I$(@D)/. -Isrc -o $@ -c $\u003c\nendif\n\nAlso broken are suffix rules in included makefile rules, like compilers/imcc/cfg.o fails to use the given .o.c rule.\n\n```\nmakepp: Entering directory `/home/rurban/Perl/parrot/parrot-git/compilers/imcc'\ngcc  -g -Wall  -c cfg.c -o cfg.o\nIn file included from cfg.c:29:0:\nimc.h:22:27: fatal error: parrot/parrot.h: No such file or directory\n```\n\nEWONTFIX","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1357584868,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzM2MjUzNDg="},"status":2},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1357586961,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExOTY2NjI2","github-url":"https://github.com/parrot/parrot/issues/919#issuecomment-11966626"},"message":"I think it would be useful to document somewhere that we don't support makepp (as well as tell people whatever other third cousins of make that we don't support).","files":null}]}