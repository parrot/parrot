{"version":1,"ops":[{"type":3,"author":{"id":"099af60226e2576bd4ff0f5c2614b710c745cab6"},"timestamp":1290721699,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI4MjU=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-3502825"},"message":"\u003cp\u003e\nHello.\n\u003c/p\u003e\n\n\u003cp\u003e\nI think it's good \"complex GCI task\" candidate.\n\u003c/p\u003e\n\n\u003cp\u003e\n--\nBacek\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"c750eb0960e029df836e56dc77bb8c148fcf5723"},"timestamp":1291710302,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI4MjY=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-3502826"},"message":"```\n    \u003cpre class=\"wiki\"\u003ePackFile header failed during unpack\n```\n\n\u003c/pre\u003e\u003cp\u003e\nThis error only occurs when an arbitrary string has been passed to ImageIO for thawing (and it has an invalid PackFile header). These strings are, in general, not related to files in any way.\n\u003c/p\u003e\n\n\u003cp\u003e\nThis is made clear by the exception type thrown, EXCEPTION_INVALID_STRING_REPRESENTATION, clearly indicating that it is a string-related, not a file-related, error.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1291711530,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI4Mjc=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-3502827"},"message":"\u003cp\u003e\nI am sure plobsing is correct, but this ticket should not get closed until the GCI task that mentions it is changed or deleted.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"18879c4084549ff2c7022dc058bcf4940fadd0f2"},"timestamp":1291717911,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI4Mjg=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-3502828"},"message":"\u003cp\u003e\nThis is probably triggered when linking against an incompatible libparrot and thawing the config hash in Parrot_gbl_set_config_hash_interpreter() in src/global_setup.c which happens pretty early in init_world(). plobsing noted on IRC:\n\u003c/p\u003e\n\n\u003cp\u003e\n\"And the solution to making that error easier to debug would be (a) to have access to a C level backtrace or (b) for it to be possible to handle exceptions from c (so Parrot_gbl_set_config_hash_interpreter() could spit out something intelligent about the situation).\"\n\u003c/p\u003e\n\n\u003cp\u003e\nAs a quick work around, we could also directly test the version of the config_hash before thawing. But I can't find a way to read PARROT_PBC_MAJOR and PARROT_PBC_MINOR from libparrot.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"18879c4084549ff2c7022dc058bcf4940fadd0f2"},"timestamp":1291721211,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI4Mjk=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-3502829"},"message":"\u003cp\u003e\nCommit d922b8a235 should give the following error message:\n\u003c/p\u003e\n\n\u003cp\u003e\nVersion %d.%d of config hash is invalid, expected %d.%d. You're probably linking against an incompatible libparrot.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1294698510,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDI4MzA=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-3502830"},"message":"\u003cp\u003e\nThe format-checking logic was moved into a new function from where nwellnhof had originally put it, and the message was generalized a little bit to be used for all cases of loading in a PMC image through the API. Does this satisfy the requirements of the ticket, or do we need something more?\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1336522892,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU1OTAwNzY=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-5590076"},"message":"@moritz: is this still an issue for you? I've lost track of the details, but it seems from the comments in this ticket that this issue has been more-or-less addressed.","files":null},{"type":3,"author":{"id":"76484e451c8adcf68d1a41e60ab7fdf43d921282"},"timestamp":1336546412,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU1OTM5MzM=","github-url":"https://github.com/parrot/parrot/issues/350#issuecomment-5593933"},"message":"Sorry, I don't know how to create incompatible bytecode by myself, so I guess I'll have to wait until after the release. But if anybody wants to do the test, it's simple. Does the name of the incompatible .pbc file show up in the error message?","files":null}]}