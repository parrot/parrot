{"version":1,"ops":[{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1398782391,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQxNjg0MDUz","github-url":"https://github.com/parrot/parrot/issues/1014#issuecomment-41684053"},"message":"According to https://bugs.launchpad.net/ubuntu/+source/icu/+bug/1247024 icu-config is not the problem. One should first use pkg-config to handle those multiarch problems, and only as fallback icu-config.\n\n```\nPlease stop using icu-config, instead use provided pkg-config files.\nIcu has transitioned to be multiarch, and thus one can have i686, amd64, \narmhf etc libicu-dev's co-installed and icu-config is not flexible enough to tell \none which one should be used.\npkg-config on the other hand can resolve it.\nFurthermore, one doesn't need to add /usr/include/$(tripplet) cflags / \nsearch directories as they are default in the compiler.\nicu-config cannot encode any single architecture.\n```","files":null},{"type":3,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1400682031,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQzNzYwMTE1","github-url":"https://github.com/parrot/parrot/issues/1014#issuecomment-43760115"},"message":"Bump.  This error means that Parrot doesn't build for me on Kubuntu 14.04.\n\nPm","files":null},{"type":5,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1400682040,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDEyMzM2NjQxNw=="},"added":["Bug"],"removed":[]},{"type":5,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1400682051,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDEyMzM2NjQ5MA=="},"added":["Sev-fatal"],"removed":[]},{"type":5,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1400682060,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDEyMzM2NjU5Mg=="},"added":["Pri-critical"],"removed":[]},{"type":3,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1400682437,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQzNzYxMDY4","github-url":"https://github.com/parrot/parrot/issues/1014#issuecomment-43761068"},"message":"Here's the error I'm receiving when attempting to build a fresh clone of Parrot onto Kubuntu 14.04:\n\n```\npmichaud@kiwi:~/p6$ git clone git@github.com:parrot/parrot\nCloning into 'parrot'...\nWarning: Permanently added the RSA host key for IP address '192.30.252.129' to the list of known hosts.\nremote: Reusing existing pack: 412653, done.\nremote: Counting objects: 79, done.\nremote: Compressing objects: 100% (43/43), done.\nremote: Total 412732 (delta 30), reused 48 (delta 22)\nReceiving objects: 100% (412732/412732), 103.20 MiB | 6.87 MiB/s, done.\nResolving deltas: 100% (307904/307904), done.\nChecking connectivity... done.\npmichaud@kiwi:~/p6$ cd parrot\npmichaud@kiwi:~/p6/parrot$ perl Configure.pl\nParrot Version 6.4.0 Configure 2.0\nCopyright (C) 2001-2014, Parrot Foundation.\n\nHello, I'm Configure. My job is to poke and prod your system to figure out\nhow to build Parrot. The process is completely automated, unless you passed in\nthe `--ask' flag on the command line, in which case I'll prompt you for a few\npieces of info.\n\nSince you're running this program, you obviously have Perl 5--I'll be pulling\nsome defaults from its configuration.\n\ninit::manifest -      Check MANIFEST.....................................done.\ninit::defaults -      Set Configure's default values.....................done.\ninit::install -       Set up installation paths..........................done.\ninit::hints -         Load platform and local hints files................done.\ninter::progs -        Determine what C compiler and linker to use........done.\ninter::make -         Is make installed...................................yes.\ninter::lex -          Is lex installed................................skipped.\ninter::yacc -         Is yacc installed...............................skipped.\nauto::gcc -           Is your C compiler actually gcc................yes, 4.8.\nauto::glibc -         Is GNU libc installed...............................yes.\nauto::backtrace -     Does libc have the backtrace* functions.............yes.\nauto::msvc -          Is your C compiler actually Visual C++..........skipped.\nauto::attributes -    Detect compiler attributes.........................done.\nauto::warnings -      Detect supported compiler warnings.................done.\nauto::arch -          Determine CPU architecture and type, and OS........done.\nauto::cpu -           Generate CPU specific stuff........................done.\ninit::optimize -      Enable optimization..................................no.\ninter::shlibs -       Determine flags for building shared libraries.....-fPIC.\ninter::libparrot -    Should parrot link against a shared library.........yes.\ninter::types -        What types should Parrot use.......................done.\nauto::ops -           Which opcode files should be compiled in...........done.\nauto::pmc -           Which pmc files should be compiled in..............done.\nauto::headers -       Probe for C headers................................done.\nauto::sizes -         Determine some sizes...............................done.\nauto::byteorder -     Compute native byteorder for wordsize.....little-endian.\nauto::va_ptr -        Test the type of va_ptr........................register.\nauto::format -        What formats should be used for sprintf............done.\nauto::isreg -         Does your C library have a working S_ISREG..........yes.\nauto::llvm -          Is minimum version of LLVM installed............skipped.\nauto::inline -        Does your compiler support inline...................yes.\nauto::gc -            Determine allocator to use..........................gms.\nauto::memalign -      Does your C library support memalign................yes.\nauto::signal -        Determine some signal stuff........................done.\nauto::socklen_t -     Determine whether there is socklen_t................yes.\nauto::stat -          Detect stat type....................................bsd.\nauto::neg_0 -         Determine whether negative zero can be printed......yes.\nauto::env -           Does your C library have setenv / unsetenv.........both.\nauto::timespec -      Does your system has timespec.......................yes.\nauto::infnan -        Is standard C Inf/NaN handling present..............yes.\nauto::thread -        Does your system have threads.......................yes.\nauto::gmp -           Does your platform support GMP.......................no.\nauto::readline -      Does your platform support readline.................yes.\nauto::pcre -          Does your platform support pcre.................skipped.\nauto::opengl -        Does your platform support OpenGL....................no.\nauto::zlib -          Does your platform support zlib......................no.\nauto::gettext -       Does your configuration include gettext.............yes.\nauto::snprintf -      Test snprintf......................................done.\nauto::perldoc -       Is perldoc installed................................yes.\nauto::coverage -      Are coverage analysis tools installed...lacking gcov2perl cover.\nauto::pod2man -       Is pod2man installed................................yes.\nauto::ctags -         Is (exuberant) ctags installed.......................no.\nauto::icu -           Is ICU installed...error: ICU header '/usr/include/unicode/ucnv.h' not found\nerror: ICU header '/usr/include/unicode/utypes.h' not found\nerror: ICU header '/usr/include/unicode/uchar.h' not found\nSomething is wrong with your ICU installation!\n\n   If you do not have a full ICU installation:\n\n   --without-icu        Build parrot without ICU support\n   --icu-config=(file)  Location of icu-config\n   --icuheaders=(path)  Location of ICU headers without /unicode\n   --icushared=(flags)  Full linker command to create shared libraries\n\nstep auto::icu failed: no result returned at Configure.pl line 93.\n\nauto::libffi -        Is libffi installed.....................lack pkg-config.\nauto::ipv6 -          Determine IPV6 capabilities.........................yes.\nauto::platform -      Generate a list of platform object files...........done.\nauto::alignof -       Determine offsetof values for our types.........skipped.\nauto::expect -        Does your compiler support __builtin_expect.........yes.\ngen::config_h -       Generate C headers...value for '@has_icu@' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 611, \u003c$in\u003e line 149.\n..............................done.\ngen::core_pmcs -      Generate core pmc list.............................done.\ngen::opengl -         Generating OpenGL bindings......................skipped.\ngen::makefiles -      Generate makefiles and other build files...value for '@icu_shared@' in config/gen/makefiles/root.in is undef at lib/Parrot/Configure/Compiler.pm line 611, \u003c$in\u003e line 135.\n........done.\ngen::config_pm -      Record configuration data for later retrieval...Use of uninitialized value in join or string at config/gen/config_pm.pm line 71.\n...done.\nDuring configuration the following steps failed:\n    52:  auto::icu\nYou should diagnose and fix these errors before calling 'make'\npmichaud@kiwi:~/p6/parrot$ \n```","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1400684601,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQzNzY2MjUz","github-url":"https://github.com/parrot/parrot/issues/1014#issuecomment-43766253"},"message":"Fixed in branch `rurban/icuheaders-gh1014`\n\nWe must not die when perl does not find the icuheaders. \ncc needs to find it, and it does it in the probe, if they are in the proper cc searchdir.\n\ndebian multi-arch:\n\n```\nauto::icu -           Is ICU installed...\nDiscovered icu-config --exists returns 0\nicu-config found... good!\nTrying icu-config with '--ldflags-searchpath --ldflags-libsonly'\nicushared:  captured -L/usr/lib/x86_64-linux-gnu -licui18n -licuuc -licudata \nFor icushared, found -L/usr/lib/x86_64-linux-gnu  -licuuc -licudata  and 0\nTrying icu-config with '--prefix'\nicuheaders:  captured /usr\n\nFor icuheaders, found /usr/include and 0\nicuconfig: icu-config\nicushared='-L/usr/lib/x86_64-linux-gnu  -licuuc -licudata '\nheaders='/usr/include'\ng++  -D_GNU_SOURCE -DHASATTRIBUTE_CONST  -DHASATTRIBUTE_DEPRECATED  -DHASATTRIBUTE_MALLOC  -DHASATTRIBUTE_NONNULL  -DHASATTRIBUTE_NORETURN  -DHASATTRIBUTE_PURE  -DHASATTRIBUTE_UNUSED  -DHASATTRIBUTE_WARN_UNUSED_RESULT  -DHASATTRIBUTE_HOT  -DHASATTRIBUTE_COLD  -DHAS_GETTEXT  -I./include -c test_23972.c\ng++  -fstack-protector -L/usr/local/lib -Wl,-E test_23972.o  -o test_23972  -lnsl -ldl -lm -lcrypt -lutil -lpthread -lrt -lgmp -lreadline \n./test_23972\nunicode/ucnv.h OK\nYour compiler found the icu headers... good!\n\nSetting Configuration Data:\n(\n    verbose =\u003e undef,\n);\n\n                      Is ICU installed....................................yes.\n```","files":null},{"type":3,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1400686126,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQzNzcwNzAy","github-url":"https://github.com/parrot/parrot/issues/1014#issuecomment-43770702"},"message":"I can confirm that the branch is working for me on Kubuntu 14.04.\n\nPm","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1400690043,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQzNzgxNzUz","github-url":"https://github.com/parrot/parrot/issues/1014#issuecomment-43781753"},"message":"Thanks. Also worked fine on solaris. Merged into master","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1400690043,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTIzNDMxNDkw"},"status":2}]}