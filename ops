{"version":1,"ops":[{"type":1,"author":{"id":"5ba91ab98e1932003c6492ddab001d8a6cb4d710"},"timestamp":1357369468,"metadata":{"github-id":"MDU6SXNzdWU5NzAzMjEx","github-url":"https://github.com/parrot/parrot/issues/913","origin":"github"},"title":"ops2c.exe creates faulty header file when passed filename with backslashes / make fails","message":"Building parrot using Win32/MSVC 2008 (Configure below) (n)make fails:\n\n...\nCompiled: ops2c.obj\nlink -out:ops2c.exe \"ops2c.obj\" \"ops2c.RES\" \"E:/parrot\\src\\parrot_config.obj\"  \"E:/parrot\\libparrot.lib\"   -nologo -nodefaultlib -debug     -machine:x86 kernel32.lib ws2_32.lib msvcrt.lib oldnames.lib advapi32.lib c:\\usr\\lib\\icu\\lib\\icudt.lib c:\\usr\\lib\\icu\\lib\\icuuc.lib\n   Creating library ops2c.lib and object ops2c.exp\nmt.exe -nologo -manifest ops2c.exe.manifest -outputresource:ops2c.exe;1\nLinked: ops2c.exe\n    .\\ops2c.exe --dynamic src\\dynoplibs\\obscure.ops --quiet\n    cl -I.\\include -I.\\include\\pmc -nologo -GF -W4 -MD -Zi -DNDEBUG -DWIN32 -D_CONSOLE -DNO_STRICT -DUSE_SITECUSTOMIZE  -D_USE_32BIT_TIME_T -D_CRT_SECURE_NO_DEPRECATE -DHASATTRIBUTE_DEPRECATED -wd4101 -DHASATTRIBUTE_NORETURN -wd4101 -I \"c:\\usr\\lib\\icu\\include\" -Zi     -wd4127 -wd4054 -wd4310    -Isrc\\dynoplibs. -Fosrc\\dynoplibs\\obscure_ops.obj -c src\\dynoplibs\\obscure_ops.c\nobscure_ops.c\ne:\\parrot\\src\\dynoplibs\\obscure_ops.h(2) : warning C4067: unexpected tokens following preprocessor directive - expected a newline\ne:\\parrot\\src\\dynoplibs\\obscure_ops.h(3) : error C2008: '\\' : unexpected in macro definition\n\nobscure_ops.h looks like this:\n# ifndef PARROT_SRC\\DYNOPLIBS\\OBSCURE_OPS_H_GUARD\n# define PARROT_SRC\\DYNOPLIBS\\OBSCURE_OPS_H_GUARD\n\n/\\* ex: set ro:\n- !!!!!!!   DO NOT EDIT THIS FILE   !!!!!!!\n  *\n- This file is generated automatically from 'src\\dynoplibs\\obscure.ops' (and possibly other\n- .ops files). by ops2c.nqp.\n  *\n- Any changes made here will be lost!  To regenerate this file after making\n- changes to any ops, use the bootstrap-ops makefile target.\n  *\n  */\n  ...\n\nMSVC 2008 chokes on the backslashes in the file guard.  Don't know if problem is that the full filename passed has backslashes in it or method _generate_guard_macro_name in compilers\\opsc\\src\\Ops\\Emitter.pm does not handle backslashes.\n\nThis was caused by `rurban/win-replace_slashes-gh891` for #891","files":null}]}