{"version":1,"ops":[{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1413774361,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5Njc4ODQ5","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-59678849"},"message":"This is happening while it was doing QAST parsing.","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413795482,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5NzA3Nzc1","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-59707775"},"message":"This should not happen. My guess is that you used a wrong libparrot, the installed one from `/usr/local/lib/libparrot` and not the one built in `install/lib/libparrot`. Either your rpath is wrong or missing, or you used a LD_LIBRARY_PATH, or you are on a system which doesn't support rpath. If so pelase delete the installed /usr/local/lib/libparrot.*, make clean and try again.","files":null},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413795513,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MDcxMjM4Mg=="},"added":["To-verify"],"removed":[]},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1413859046,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5ODcwODYz","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-59870863"},"message":"I cleaned up everything (including installed files underneath /usr/local) and rebuilt them all. But it gave me the same effects. Sometimes it seg-faults without dumping the backtraces, sometimes it complains the RDO along with the backtraces. I'm using gcc which supports rpath, and I didn't setup LD_LIBRARY_PATH manually. The ldd result of /usr/local/bin/parrot shows me like this:\n\n```\n$ ldd /usr/local/bin/parrot\n    linux-vdso.so.1 =\u003e  (0x00007fff46ffe000)\n    libparrot.so.6.8.0 =\u003e /usr/local/lib/libparrot.so.6.8.0 (0x00007f6afe678000)\n    libc.so.6 =\u003e /lib/x86_64-linux-gnu/libc.so.6 (0x00007f6afe292000)\n    libdl.so.2 =\u003e /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f6afe08d000)\n    libm.so.6 =\u003e /lib/x86_64-linux-gnu/libm.so.6 (0x00007f6afdd87000)\n    libpthread.so.0 =\u003e /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f6afdb69000)\n    librt.so.1 =\u003e /lib/x86_64-linux-gnu/librt.so.1 (0x00007f6afd960000)\n    libgmp.so.10 =\u003e /usr/lib/x86_64-linux-gnu/libgmp.so.10 (0x00007f6afd6ec000)\n    libreadline.so.6 =\u003e /lib/x86_64-linux-gnu/libreadline.so.6 (0x00007f6afd4a6000)\n    libffi.so.6 =\u003e /usr/lib/x86_64-linux-gnu/libffi.so.6 (0x00007f6afd29d000)\n    libicuuc.so.52 =\u003e /usr/lib/x86_64-linux-gnu/libicuuc.so.52 (0x00007f6afcf24000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007f6afed3e000)\n    libtinfo.so.5 =\u003e /lib/x86_64-linux-gnu/libtinfo.so.5 (0x00007f6afccfa000)\n    libicudata.so.52 =\u003e /usr/lib/x86_64-linux-gnu/libicudata.so.52 (0x00007f6afb48d000)\n    libstdc++.so.6 =\u003e /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f6afb189000)\n    libgcc_s.so.1 =\u003e /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f6afaf72000)\n```\n\nI'm working on Ubuntu(s), typical make \u0026\u0026 make install for /usr/bin/parrot and /usr/bin/nqp after Configure.pl. I'm thinking about if any differences of dependencies/tools from the system could cause this? My cc looks like this:\n\n```\n$ cc -v\nUsing built-in specs.\nCOLLECT_GCC=cc\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.8/lto-wrapper\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 4.8.2-19ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-4.8/README.Bugs --enable-languages=c,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.8 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.8 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-gnu-unique-object --disable-libmudflap --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-4.8-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) \n```\n\nPlease let me know if you want anything from me to find out what's going on here...","files":null},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1413861143,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5ODczMTI4","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-59873128"},"message":"I did a fulltest, and it's PASS.","files":null},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413879584,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MTM3MzM2Mg=="},"added":["Component-GC"],"removed":[]},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1413879828,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5ODk0Mzgy","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-59894382"},"message":"Do you have not much memory, like 2GB only? Usually the GC is very stable, we only saw similar GC assertions under very underpowered systems, like in #1109 (mips64 with 256MB RAM). You can try out several -g flags.\n\nBut my assumption is still that nqp picked up a wrong libparrot, an unclean build. For nqp it's better not to install parrot, it builds and uses its own.","files":null},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1413880811,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5ODk2MTM1","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-59896135"},"message":"What you said about the memory reminds me that my laptop have 32G RAM, and it's running perfectly without any assertions/segfaults, so I think it should have something to do with the ram. Because I'm doing it with the same system and instructions.\n\nI did some experiments with these ms2|gms|ms|inf, but they seem to be even worse, I'll try more on them.\n\nI'm not sure about the libparrot mass-up, I'll try as what you suggested anyway.","files":null},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1414119272,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMzM4NjU2","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60338656"},"message":"Hi, rurban, I grabbed the backtrace from gdb, please check and see if you can see any clues:\n\nfinal frame: (https://github.com/parrot/parrot/blob/master/include/parrot/pointer_array.h#L139)\n\n``` c\nstatic\nPARROT_INLINE\nvoid\nParrot_pa_remove(SHIM_INTERP, ARGIN(Parrot_Pointer_Array *self), ARGIN(void *ptr))\n{\n    /* Mark sell to avoid iterating over */\n    *(void**)ptr = (void*)((ptrcast_t)self-\u003enext_free | 1);\n    self-\u003enext_free = (void**)ptr;\n}\n```\n\nsome dumps (it looks like the \"ptr\" is incorrect somehow):\n\n```\n(gdb) p self\n$4 = (Parrot_Pointer_Array *) 0x6125f0\n(gdb) p self-\u003enext_free\n$5 = (void **) 0x1bbacc0\n(gdb) p ptr\n$6 = (void *) 0x7\n```\n\nbt:\n\n```\n(gdb) bt\n#0  0x00007ffff7a2e92d in Parrot_pa_remove (interp_unused=\u003coptimized out\u003e, self=0x6125f0, ptr=0x7) at ./include/parrot/pointer_array.h:142\n#1  gc_gms_mark_pmc_header (interp=\u003coptimized out\u003e, pmc=\u003cerror reading variable: Cannot access memory at address 0x29\u003e0x98ba9e0) at src/gc/gc_gms.c:1206\n#2  0x00007ffff2c03167 in Parrot_SixModelObject_mark (interp=0x611050, _self=PMC\u003cSixModelObject\u003e = {...}) at sixmodelobject.c:731\n#3  0x00007ffff7a2ee4f in gc_gms_process_work_list (work_list=0xa49c220, self=0x611420, interp=0x611050) at src/gc/gc_gms.c:1039\n#4  gc_gms_mark_and_sweep (interp=\u003coptimized out\u003e, flags=flags@entry=0) at src/gc/gc_gms.c:847\n#5  0x00007ffff7a2f5d7 in gc_gms_allocate_pmc_header (interp=0x611050, flags_unused=\u003coptimized out\u003e) at src/gc/gc_gms.c:1482\n#6  0x00007ffff7a2a9d3 in Parrot_gc_new_pmc_header (interp=interp@entry=0x611050, flags=0) at src/gc/api.c:312\n#7  0x00007ffff7a4deb7 in get_new_pmc_header (interp=interp@entry=0x611050, base_type=\u003coptimized out\u003e, flags=\u003coptimized out\u003e, flags@entry=0) at src/pmc.c:572\n#8  0x00007ffff7a4e13c in Parrot_pmc_new (interp=interp@entry=0x611050, base_type=base_type@entry=15) at src/pmc.c:217\n#9  0x00007ffff7a392f8 in Parrot_pcc_reuse_continuation (interp=interp@entry=0x611050, call_context=\u003coptimized out\u003e, next=next@entry=0x7ffff1941218) at src/call/context.c:887\n#10 0x00007ffff7a08ed0 in Parrot_invokecc_p (cur_opcode=0x7ffff1941208, interp=0x611050) at src/ops/core_ops.c:13895\n#11 0x00007ffff7a4f205 in runops_fast_core (interp=0x611050, runcore_unused=\u003coptimized out\u003e, pc=\u003coptimized out\u003e) at src/runcore/cores.c:495\n#12 0x00007ffff7a4ee4d in runops_int (interp=interp@entry=0x611050, offset=\u003coptimized out\u003e) at src/runcore/main.c:220\n#13 0x00007ffff7a38b78 in runops (interp=interp@entry=0x611050, offs=\u003coptimized out\u003e) at src/call/ops.c:123\nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \n#14 0x00007ffff7a34bee in Parrot_pcc_invoke_from_sig_object (interp=interp@entry=0x611050, sub_obj=sub_obj@entry=PMC\u003cContinuation\u003e, call_object=\u003coptimized out\u003e) at src/call/pcc.c:340\n#15 0x00007ffff7a292f1 in Parrot_ext_call (interp=interp@entry=0x611050, sub_pmc=0x701ee0, signature=signature@entry=0x7ffff7b2e353 \"P-\u003e\") at src/extend.c:158\nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \n#16 0x00007ffff7afd666 in Parrot_Task_invoke (interp=0x611050, _self=PMC\u003cTask\u003e, next=0x0) at ./src/pmc/task.pmc:175\nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \n#17 0x00007ffff7a34bac in Parrot_pcc_invoke_from_sig_object (interp=interp@entry=0x611050, sub_obj=sub_obj@entry=PMC\u003cTask\u003e, call_object=PMC\u003cCallContext\u003e) at src/call/pcc.c:332\n#18 0x00007ffff7a292f1 in Parrot_ext_call (interp=interp@entry=0x611050, sub_pmc=0x6ff388, signature=signature@entry=0x7ffff7b2e30c \"-\u003e\") at src/extend.c:158\nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \n#19 0x00007ffff7a528ba in Parrot_cx_next_task (interp=interp@entry=0x611050, scheduler=scheduler@entry=PMC\u003cScheduler\u003e) at src/scheduler.c:231\n#20 0x00007ffff7a5306f in Parrot_cx_outer_runloop (interp=interp@entry=0x611050) at src/scheduler.c:149\nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \n#21 0x00007ffff7a53167 in Parrot_cx_begin_execution (interp=interp@entry=0x611050, main=main@entry=PMC\u003cSub\u003e, argv=argv@entry=PMC\u003cResizableStringArray\u003e) at src/scheduler.c:109\nPython Exception \u003cclass 'AttributeError'\u003e 'module' object has no attribute 'imap': \n#22 0x00007ffff7a5b76b in Parrot_pf_execute_bytecode_program (interp=0x611050, pbc=\u003coptimized out\u003e, args=PMC\u003cResizableStringArray\u003e) at src/packfile/api.c:2860\n#23 0x00007ffff7a253e3 in Parrot_api_run_bytecode (interp_pmc=0x6dbec8, pbc=0x6ff360, args=\u003coptimized out\u003e) at src/embed/bytecode.c:161\n#24 0x0000000000401f71 in main (argc=\u003coptimized out\u003e, argv=\u003coptimized out\u003e) at frontend/parrot2/main.c:194\n```","files":null},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1414120537,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMzM5ODQy","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60339842"},"message":"```\n(gdb) info sharedlibrary\nFrom                To                  Syms Read   Shared Object Library\n0x00007ffff7ddaae0  0x00007ffff7df54e0  Yes         /lib64/ld-linux-x86-64.so.2\n0x00007ffff79f9150  0x00007ffff7b19c51  Yes         .../perl6/nqp/parrot/blib/lib/libparrot.so.6.8.0\n0x00007ffff76004a0  0x00007ffff77460c3  Yes         /lib/x86_64-linux-gnu/libc.so.6\n0x00007ffff73dded0  0x00007ffff73de9ce  Yes         /lib/x86_64-linux-gnu/libdl.so.2\n0x00007ffff70dc610  0x00007ffff714b1b6  Yes         /lib/x86_64-linux-gnu/libm.so.6\n0x00007ffff6ebe9f0  0x00007ffff6ecb391  Yes         /lib/x86_64-linux-gnu/libpthread.so.0\n0x00007ffff6cb3350  0x00007ffff6cb633c  Yes         /lib/x86_64-linux-gnu/librt.so.1\n0x00007ffff6a45f40  0x00007ffff6a9a42f  Yes         /usr/lib/x86_64-linux-gnu/libgmp.so.10\n0x00007ffff680a0d0  0x00007ffff682aee5  Yes         /lib/x86_64-linux-gnu/libreadline.so.6\n0x00007ffff65f0650  0x00007ffff65f4d38  Yes         /usr/lib/x86_64-linux-gnu/libffi.so.6\n0x00007ffff62c8ef0  0x00007ffff63793e8  Yes         /usr/lib/x86_64-linux-gnu/libicuuc.so.52\n0x00007ffff60593d0  0x00007ffff6065028  Yes         /lib/x86_64-linux-gnu/libtinfo.so.5\n0x00007ffff47e0570  0x00007ffff47e0655  Yes         /usr/lib/x86_64-linux-gnu/libicudata.so.52\n0x00007ffff45375c0  0x00007ffff459a99a  Yes         /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n0x00007ffff42c8ab0  0x00007ffff42d8995  Yes         /lib/x86_64-linux-gnu/libgcc_s.so.1\n0x00007ffff2bf8350  0x00007ffff2c06060  Yes         .../perl6/nqp/install/lib/parrot/6.8.0-devel/dynext/nqp_group.so\n0x00007ffff29a6dc0  0x00007ffff29d25dd  Yes         .../perl6/nqp/install/lib/parrot/6.8.0-devel/dynext/nqp_ops.so\n0x00007ffff278ed10  0x00007ffff279075a  Yes         .../perl6/nqp/parrot/runtime/parrot/dynext/io_ops.so\n0x00007ffff2571940  0x00007ffff2582fa8  Yes         .../perl6/nqp/install/lib/parrot/6.8.0-devel/dynext/nqp_bigint_ops.so\n0x00007ffff1c782b0  0x00007ffff1c79c1a  Yes         .../perl6/nqp/parrot/runtime/parrot/dynext/trans_ops.so\n```","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414130824,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMzQ4MjE5","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60348219"},"message":"Thanks, I see. Either a PGE or a NQP error, which misses to mark an internal ptr. I can repro a similar error with very low memory, 256MB. Not repro with 2GB RAM","files":null},{"type":2,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414130906,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTgzMTI2NDI3"},"title":"Eitehr a NQP or PGE object mark misses a ptr for the GC","was":"GC assertions with low memory. i.e. with PGE, Coros, ..."},{"type":2,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414135443,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTgzMTQ4NDQw"},"title":"Either a NQP or PGE object mark misses a ptr for the GC","was":"Eitehr a NQP or PGE object mark misses a ptr for the GC"},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414310735,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MTgzNzM1NDkz"},"added":[],"removed":["To-verify"]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414310739,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MzczNTQ5NA=="},"added":["Bug"],"removed":[]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414310743,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MzczNTQ5NQ=="},"added":["Pri-major"],"removed":[]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414310745,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MzczNTQ5OQ=="},"added":["Sev-high"],"removed":[]},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414314915,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNTExMjg4","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60511288"},"message":"See branch `rurban/gcdebug-gh1108`","files":null},{"type":2,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414477661,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTg0NTA3NDYx"},"title":"GC bug with Coros, after it is initialized. i.e. with PGE","was":"Either a NQP or PGE object mark misses a ptr for the GC"},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414477737,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNzE0ODk0","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60714894"},"message":"Smallest reproducer so far: `--ccflags=-DMEMORY_DEBUG` with darwin.\n\n```\nulimit -Sv 640\n./parrot --gc-debug --gc-nursery-size=0.5 -D101 -t8 t/pmc/coroutine_15.pir\n```\n\nThis would now be trivial to debug with gdb reverse debugging, however on linux only. \nBut on linux the ulimit and nursery-size percentage needs to be tuned to be able to run perl, parrot and gdb.\n\nOn a 4GB linux-i386 system I needed these params to get the same:\n`ulimit -Sv 60000 \u0026\u0026 m -s parrot_old \u0026\u0026 ./parrot_old --gc-debug --gc-nursery-size=0.001 -D101 -t8 t/pmc/coroutine_15.pir`\n\nlower ulimits prevent parrot or gdb from starting, or parrot will run out of memory.\n\n```\nFree Memory: 8589934592\nMemory via rlimit restricted to: 655360\nGC nursery size: 0.5%\nGMS GC threshold: 3276\nBefore\ntotal: 1, gen: 0, dirty: 0, work: 0\nGEN 0: 1817 objects, 1221 strings\nGEN 1: 0 objects, 0 strings\nGEN 2: 0 objects, 0 strings\nGEN 3: 0 objects, 0 strings\nparent: 0x0, tid: -1\nPMC: 73728\nSTRING: 90112\nbuffers: 131072\nconst buffers: 131072\nattrs: 155648\n\nGC live gen 0 AddrRegistry=PMC(0x7ffc3c83dc18) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Hash=PMC(0x7ffc3c83dc40) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 CallContext=PMC(0x7ffc3c83dc68) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 NameSpace()=PMC(0x7ffc3c83dc90) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 OrderedHash=PMC(0x7ffc3c83dcb8) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Hash=PMC(0x7ffc3c83dce0) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 ResizablePMCArray=PMC(0x7ffc3c83dd08) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 ResizablePMCArray=PMC(0x7ffc3c83dd30) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 FixedPMCArray=PMC(0x7ffc3c83dd58) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 String=PMC(0x7ffc3c83dd80 Str:\"parrot\") (is_PMC,custom_mark,)\nGC live gen 0 FixedPMCArray=PMC(0x7ffc3c83dda8) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Integer=PMC(0x7ffc3c83ddd0: 0) (is_PMC,)\nGC live gen 0 String=PMC(0x7ffc3c83ddf8 Str:\"parrot\") (is_PMC,custom_mark,)\nGC live gen 0 NameSpace(parrot)=PMC(0x7ffc3c83de20) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 NameSpace()=PMC(0x7ffc3c83de48) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Integer=PMC(0x7ffc3c83de70: 0) (is_PMC,)\nGC live gen 0 Integer=PMC(0x7ffc3c83de98: 1) (is_PMC,)\nGC live gen 0 Integer=PMC(0x7ffc3c83dec0: 2) (is_PMC,)\n...skipping...\n\nGC live gen 1 Coroutine=PMC(0x7ffc3c87e878) (private3,is_PMC,is_shared,custom_mark,custom_destroy,gen0,need_wb,)\nGC dirty pmc FixedPMCArray         at 0x7ffc3c84dd58\nGC dirty pmc ResizableStringArray  at 0x7ffc3c884ea0\nGC dirty pmc ResizableStringArray  at 0x7ffc3c884ec8\nGC dirty pmc ResizableStringArray  at 0x7ffc3c884ef0\nGC dirty pmc ResizableStringArray  at 0x7ffc3c884f18\nGC dirty pmc CallContext           at 0x7ffc3d834758\nGC dirty pmc AddrRegistry          at 0x7ffc3c83dc18\nGC dirty pmc CallContext           at 0x7ffc3c8814f0\nGC dirty pmc CallContext           at 0x7ffc3c881e50\nGC dirty pmc CallContext           at 0x7ffc3c8812e8\nGC dirty pmc CallContext           at 0x7ffc3c881b08\nGC dirty pmc Hash                  at 0x7ffc3d8348e8\nGC dirty pmc NameSpace             at 0x7ffc3c83de20\nAfter\ntotal: 6, gen: 0, dirty: 13, work: 0\nGEN 0: 0 objects, 6 strings\nGEN 1: 1601 objects, 1831 strings\nGEN 2: 0 objects, 0 strings\nGEN 3: 0 objects, 0 strings\nparent: 0x0, tid: -1\nPMC: 73728\nSTRING: 139264\nbuffers: 131072\nconst buffers: 131072\nattrs: 163840\n\n# continuation not reused\nGC WB pmc CallContext           gen 1 at 0x7ffc3c8841a8 - 0x7ffc3c00cda0\n# continuation not reused\nGC WB pmc Continuation          gen 1 at 0x7ffc3c884090 - 0x7ffc3c00cd80\nBefore\ntotal: 7, gen: 0, dirty: 15, work: 0\nGEN 0: 12 objects, 14 strings\nGEN 1: 1599 objects, 1831 strings\nGEN 2: 0 objects, 0 strings\nGEN 3: 0 objects, 0 strings\nparent: 0x0, tid: -1\nPMC: 73728\nSTRING: 139264\nbuffers: 131072\nconst buffers: 131072\nattrs: 167936\n\nGC live gen 1 Coroutine=PMC(0x7ffc3c87e698) (private3,is_PMC,is_shared,custom_mark,custom_destroy,gen0,need_wb,)\nGC live pmc Coroutine             gen 1 != 0\nCoroutine=PMC(0x7ffc3c87e698) (private3,is_PMC,is_shared,custom_mark,custom_destroy,gen0,need_wb,)\nsrc/gc/gc_gms.c:2303: failed assertion '(gen == i) || !\"Object from wrong generation\"'\nBacktrace - Obtained 26 stack frames (max trace depth is 32).\n0   libparrot.6.9.0.dylib               0x00000001048d5f8f Parrot_print_backtrace + 47\n1   libparrot.6.9.0.dylib               0x00000001048d5f5a Parrot_confess + 138\n2   libparrot.6.9.0.dylib               0x00000001048e7f41 gc_gms_check_sanity + 561\n3   libparrot.6.9.0.dylib               0x00000001048e3fcc gc_gms_mark_and_sweep + 300\n4   libparrot.6.9.0.dylib               0x00000001048e5e38 gc_gms_allocate_pmc_header + 168\n5   libparrot.6.9.0.dylib               0x00000001048dbd63 Parrot_gc_new_pmc_header + 83\n6   libparrot.6.9.0.dylib               0x0000000104925426 get_new_pmc_header + 422\n7   libparrot.6.9.0.dylib               0x0000000104924bd7 Parrot_pmc_new + 279\n8   libparrot.6.9.0.dylib               0x00000001048f44c5 Parrot_pcc_build_sig_object_from_op + 229\n9   libparrot.6.9.0.dylib               0x000000010487a6b9 Parrot_set_args_pc + 105\n10  libparrot.6.9.0.dylib               0x00000001049281b6 runops_slow_core + 326\n11  libparrot.6.9.0.dylib               0x0000000104927182 runops_int + 226\n12  libparrot.6.9.0.dylib               0x00000001048fb433 runops + 227\n13  libparrot.6.9.0.dylib               0x00000001048f437d Parrot_pcc_invoke_from_sig_object + 397\n14  libparrot.6.9.0.dylib               0x00000001048d6b38 Parrot_ext_call + 392\n15  libparrot.6.9.0.dylib               0x0000000104a4ce24 Parrot_Task_invoke + 340\n16  libparrot.6.9.0.dylib               0x00000001048f431b Parrot_pcc_invoke_from_sig_object + 299\n17  libparrot.6.9.0.dylib               0x00000001048d6b38 Parrot_ext_call + 392\n18  libparrot.6.9.0.dylib               0x000000010492ea1d Parrot_cx_next_task + 317\n19  libparrot.6.9.0.dylib               0x000000010492e66d Parrot_cx_outer_runloop + 125\n20  libparrot.6.9.0.dylib               0x000000010492e595 Parrot_cx_begin_execution + 293\n21  libparrot.6.9.0.dylib               0x0000000104940273 Parrot_pf_execute_bytecode_program + 387\n22  libparrot.6.9.0.dylib               0x00000001048cf12e Parrot_api_run_bytecode + 382\n23  parrot                              0x0000000104855010 main + 736\n24  libdyld.dylib                       0x00007fff98ae65fd start + 1\n25  ???                                 0x0000000000000006 0x0 + 6\nAttempting to get PIR backtrace.  No guarantees.  Here goes...\ncurrent instr.: 'main' pc 12 (t/pmc/coroutine_15.pir:9)\n```","files":null},{"type":2,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414485173,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTg0NTQyNTcx"},"title":"GC assertions with low memory. i.e. with PGE, Coros, ...","was":"GC bug with Coros, after it is initialized. i.e. with PGE"},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414485408,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNzIzODE3","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60723817"},"message":"new backtrace, this time with a **CallContext**:\nI also saw this assertion with a ResizableStringArray already.\n\n```\n$ gdb --args ./parrot --gc-debug --gc-nursery-size=0.1 -D101 -t8 runtime/parrot/library/PGE/Perl6Grammar.pbc --output=compilers/tge/TGE/Parser.pir compilers/tge/TGE/Parser.pg\n\nGC live gen 0 ResizableIntegerArray=PMC(0x81a4994) (is_PMC,custom_destroy,)\nGC live gen 0 Integer=PMC(0x81a49a8: -2) (is_PMC,)\nGC live gen 0 Integer=PMC(0x81a49bc: 235) (is_PMC,)\nGC live gen 0 Capture=PMC(0x81a49d0) (is_PMC,)\nGC live gen 0 ResizablePMCArray=PMC(0x81a49e4) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Object(PGE;Perl6Gramma�8�# continuation not reused\n)=PMC(0x81a49f8) (is_PMC,custom_mark,custom_destroy,is_object,)\nGC live gen 0 Hash=PMC(0x81a4a20) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 StringBuilder=PMC(0x81a4a34: # contin...) (is_PMC,custom_mark,)\nGC live gen 0 Continuation=PMC(0x81a4a48) (is_PMC,custom_mark,)\nGC live gen 0 CallContext=PMC(0x81a4a5c) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 StringBuilder=PMC(0x81a4a70: # contin...) (is_PMC,custom_mark,)\nGC live gen 0 Continuation=PMC(0x81a4a84) (is_PMC,custom_mark,)\nGC live gen 0 CallContext=PMC(0x81a4a98) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 1 CallContext=PMC(0x80f5bbc) (is_PMC,custom_mark,custom_destroy,gen0,need_wb,)\nGC live pmc CallContext           gen 1 != 0\nCallContext=PMC(0x80f5bbc) (is_PMC,custom_mark,custom_destroy,gen0,need_wb,)\nsrc/gc/gc_gms.c:2303: failed assertion '(gen == i) || !\"Object from wrong generation\"'\nBacktrace - Obtained 26 stack frames (max trace depth is 32).\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x19728a]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_confess+0x9a) [0x19743a]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1a89af]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1a8eee]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1a9289]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_gc_new_pmc_header+0x58) [0x19e238]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1e08a3]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_pmc_new+0x114) [0x1e1144]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_pcc_build_sig_object_from_op+0xc9) [0x1b76f9]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x183d07]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1e3bbd]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1e2b6a]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1bac4a]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_pcc_invoke_from_sig_object+0x187) [0x1b3c97]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_ext_call+0x103) [0x1990d3]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x2f1e3b]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_pcc_invoke_from_sig_object+0x13c) [0x1b3c4c]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_ext_call+0x103) [0x1990d3]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1ea38b]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0x1ea41e]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_cx_begin_execution+0x11b) [0x1ea6eb]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_pf_execute_bytecode_program+0x17f) [0x1f8c5f]\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0(Parrot_api_run_bytecode+0x163) [0x191883]\n/usr/src/parrot/parrot/parrot [0x804a26f]\n/lib/libc.so.6(__libc_start_main+0xdc) [0x66eedc]\n/usr/src/parrot/parrot/parrot [0x8048f41]\nAttempting to get PIR backtrace.  No guarantees.  Here goes...\ncurrent instr.: 'parrot;PGE;Exp;root_pir' pc 3624 (compilers/pge/PGE/OPTable.pir:274)\ncalled from Sub 'parrot;PGE;Exp;compile' pc 3248 (compilers/pge/PGE/OPTable.pir:85)\ncalled from Sub 'parrot;PGE;Perl6Grammar;Compiler;regex_stmt' pc 582 (runtime/parrot/library/PGE/Perl6Grammar.pir:301)\ncalled from Sub 'parrot;PGE;Perl6Grammar;Compiler;compile' pc 239 (runtime/parrot/library/PGE/Perl6Grammar.pir:168)\ncalled from Sub 'parrot;PCT;HLLCompiler;eval' pc 1112 (compilers/pct/src/PCT/HLLCompiler.pir:586)\ncalled from Sub 'parrot;PCT;HLLCompiler;evalfiles' pc 1532 (compilers/pct/src/PCT/HLLCompiler.pir:768)\ncalled from Sub 'parrot;PCT;HLLCompiler;command_line' pc 1770 (compilers/pct/src/PCT/HLLCompiler.pir:886)\ncalled from Sub 'parrot;PGE;Perl6Grammar;Compiler;main' pc 19 (runtime/parrot/library/PGE/Perl6Grammar.pir:68)\n\nProgram received signal SIGABRT, Aborted.\n```","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414493419,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNzM3Nzc4","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60737778"},"message":"And the other on a 4GB RAM linux-i386 box.\n\n```\nulimit -Sv 60000\n./parrot -D101 -t8 runtime/parrot/library/PGE/Perl6Grammar.pbc --output=compilers/tge/TGE/Parser.pir compilers/tge/TGE/Parser.pg 2\u003e log.tge\n\nFree Memory: 4237287424\nMemory via rlimit restricted to: 81920000\nGC nursery size: 2.000%\nGMS GC threshold: 1638400\n...\n\nGC live gen 0 CallContext=PMC(0x9c1f6d0) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Continuation=PMC(0x9c1f70c) (is_PMC,custom_mark,)\nGC live gen 0 CallContext=PMC(0x9c1f770) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 ResizablePMCArray=PMC(0x9c1f7ac) (is_PMC,)\nGC live gen 0 ResizablePMCArray=PMC(0x9c1f7e8) (is_PMC,)\nGC live gen 0 ResizableIntegerArray=PMC(0x9c1f84c) (is_PMC,custom_destroy,)\nGC live gen 0 Integer=PMC(0x9c1f888: -2) (is_PMC,)\nGC live gen 0 Integer=PMC(0x9c1f8c4: 235) (is_PMC,)\nGC live gen 0 Capture=PMC(0x9c1f928) (is_PMC,)\nGC live gen 0 ResizablePMCArray=PMC(0x9c1f964) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Object(PGE;Perl6Grammar ^\\\u003cBB\u003e    PGE;Match$.target)=PMC(0x9c1f9a0) (is_PMC,custom_mark\n,custom_destroy,is_object,)\nGC live gen 0 Hash=PMC(0x9c26bbc) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Continuation=PMC(0x9c26bf8) (is_PMC,custom_mark,)\nGC live gen 0 CallContext=PMC(0x9c26c34) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Continuation=PMC(0x9c26c84) (is_PMC,custom_mark,)\nGC live gen 0 CallContext=PMC(0x9c26cc0) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 1 ResizableStringArray=PMC(0x9c462f4) (is_PMC,custom_mark,custom_destroy,gen0,need_wb,)\nGC live gen 1 != 0 ResizableStringArray=PMC(0x9c462f4) (is_PMC,custom_mark,custom_destroy,gen0,need_w\nb,)\nsrc/gc/gc_gms.c:2302: failed assertion '(gen == i) || (pmc-\u003evtable-\u003ebase_type == enum_class_Coroutine\n) || !\"Object from wrong generation\"'\nBacktrace - Obtained 26 stack frames (max trace depth is 32).\n/usr/src/parrot/parrot/blib/lib/libparrot.so.6.9.0 [0xb3028a]\n```","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414495672,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNzQxNjgw","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60741680"},"message":"And on another 4GB amd64-linux box I got a Continuation:\n\n```\nulimit -Sv 60000\n./parrot --gc-debug --gc-nursery-size=0.01 -D101 t/pmc/coroutine_15.pir\nAfter trace_roots\ntotal: 5, gen: 0, dirty: 15, work: 5\nGEN 0: 16 objects, 31 strings\nGEN 1: 1599 objects, 1815 strings\nGEN 2: 0 objects, 0 strings\nGEN 3: 0 objects, 0 strings\nparent: 0x0, tid: -1\nPMC: 73728\nSTRING: 139264\nbuffers: 131072\nconst buffers: 131072\nattrs: 176128\n\nGC live gen 0 CallContext=PMC(0xa80a58) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 Continuation=PMC(0xa80b70) (is_PMC,custom_mark,)\nGC live gen 0 StringBuilder=PMC(0xa80d28: 4...) (is_PMC,custom_mark,)\nGC live gen 0 Continuation=PMC(0xa80da0) (is_PMC,custom_mark,)\nGC live gen 0 CallContext=PMC(0xa859b8) (is_PMC,custom_mark,custom_destroy,)\nGC live gen 0 StringBuilder=PMC(0xa85a30: 3...) (is_PMC,custom_mark,)\nGC live gen 0 Continuation=PMC(0xa85c88) (is_PMC,custom_mark,)\nGC live gen 1 Continuation=PMC(0xa89df8) (is_PMC,custom_mark,gen0,need_wb,)\nGC live gen 1 != 0 Continuation=PMC(0xa89df8) (is_PMC,custom_mark,gen0,need_wb,)\nsrc/gc/gc_gms.c:2302: failed assertion '(gen == i) || (pmc-\u003evtable-\u003ebase_type == enum_class_Coroutine) || !\"Object from wrong generation\"'\nBacktrace - Obtained 29 stack frames (max trace depth is 32).\n/usr/src/parrot/parrot-git/blib/lib/libparrot.so.6.9.0(+0x19bf7f) [0x7fa4dda30f7f]\n/usr/src/parrot/parrot-git/blib/lib/libparrot.so.6.9.0(Parrot_confess+0x8b) [0x7fa4dda30f4b]\n```","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414508888,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNzcwNTc1","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-60770575"},"message":"Better testcases to check if all objects are GC-safe or not: (needs a small t/harness patch to allow the env)\n\n```\n$ ulimit -Sv 60000\n$ TEST_PROG_ARGS='--gc-nursery-size=0.05 ' perl t/harness --gc-debug t/pmc/*.t\n```\n\n```\nt/pmc/coroutine.t              (Wstat: 256 Tests: 17 Failed: 1)\n  Failed test:  15\n  Non-zero exit status: 1\nt/pmc/exception.t              (Wstat: 0 Tests: 53 Failed: 1)\n  Failed test:  44\nt/pmc/nci.t                    (Wstat: 768 Tests: 61 Failed: 3)\n  Failed tests:  5, 22, 46\n  Non-zero exit status: 3\n```\n\nThe exception and nci testcases all include a Coroutine, usually as Class and NameSpace.\n\n```\n--- t/harness\n+++ t/harness\n@@ -45,7 +45,7 @@ $opts{D} = sprintf( '%x', hex(40) | (exists $opts{D} ? hex($opts{D}) : 0));\n my $args = get_test_prog_args(\n     \\%opts, $longopts-\u003e{gc_debug}, $longopts-\u003e{run_exec}\n );\n-$ENV{TEST_PROG_ARGS} = $args;\n+$ENV{TEST_PROG_ARGS} .= $args;\n```","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1415529273,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTkwNDQ3NDg0"},"status":2},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1415587723,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYyMzM0NjM3","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-62334637"},"message":"It seems that it still has something wrong. I got the gdb dumps again. But this time the `ptr` seems stable, and it's always a `0x0`.\n\nThe top frame freezed at `pointer_array.h:142`:\n\n``` c\nstatic\nPARROT_INLINE\nvoid\nParrot_pa_remove(SHIM_INTERP, ARGIN(Parrot_Pointer_Array *self), ARGIN(void *ptr))\n{\n    /* Mark cell to avoid iterating over */\n    *(void**)ptr = (void*)((ptrcast_t)self-\u003enext_free | 1);\n    self-\u003enext_free = (void**)ptr;\n}\n```\n\n```\n(gdb) frame\n#0  0x00007ffff7a2cb15 in Parrot_pa_remove (interp_unused=\u003coptimized out\u003e, self=0x60f600, ptr=0x0) at ./include/parrot/pointer_array.h:142\n142     *(void**)ptr = (void*)((ptrcast_t)self-\u003enext_free | 1);\n(gdb) p ptr\n$2 = (void *) 0x0\n(gdb) p self-\u003enext_free\n$3 = (void **) 0x1f1a360\n#0  0x00007ffff7a2cb15 in Parrot_pa_remove (interp_unused=\u003coptimized out\u003e, self=0x60f600, ptr=0x0) at ./include/parrot/pointer_array.h:142\n#1  gc_gms_mark_pmc_header (interp=\u003coptimized out\u003e, pmc=0x203dfa0) at src/gc/gc_gms.c:1239\n#2  0x00007ffff2be6167 in Parrot_SixModelObject_mark (interp=0x60e060, _self=0x742f468) at sixmodelobject.c:731\n#3  0x00007ffff7a2d03f in gc_gms_process_work_list (work_list=0xfde250, self=0x60e430, interp=0x60e060) at src/gc/gc_gms.c:1067\n#4  gc_gms_mark_and_sweep (interp=\u003coptimized out\u003e, flags=flags@entry=0) at src/gc/gc_gms.c:869\n#5  0x00007ffff7a2d7c7 in gc_gms_allocate_pmc_header (interp=0x60e060, flags_unused=\u003coptimized out\u003e) at src/gc/gc_gms.c:1514\n#6  0x00007ffff7a28bb3 in Parrot_gc_new_pmc_header (interp=interp@entry=0x60e060, flags=0) at src/gc/api.c:316\n#7  0x00007ffff7a4c107 in get_new_pmc_header (interp=interp@entry=0x60e060, base_type=\u003coptimized out\u003e, flags=\u003coptimized out\u003e, flags@entry=0) at src/pmc.c:572\n#8  0x00007ffff7a4c38c in Parrot_pmc_new (interp=interp@entry=0x60e060, base_type=base_type@entry=15) at src/pmc.c:217\n#9  0x00007ffff7a37552 in Parrot_pcc_reuse_continuation (interp=interp@entry=0x60e060, call_context=\u003coptimized out\u003e, next=next@entry=0x7ffff1e4fc48) at src/call/context.c:887\n#10 0x00007ffff7a0721a in Parrot_callmethodcc_p_sc (cur_opcode=0x7ffff1e4fc30, interp=0x60e060) at src/ops/core_ops.c:18402\n#11 0x00007ffff7a4d455 in runops_fast_core (interp=0x60e060, runcore_unused=\u003coptimized out\u003e, pc=\u003coptimized out\u003e) at src/runcore/cores.c:495\n#12 0x00007ffff7a4d09d in runops_int (interp=interp@entry=0x60e060, offset=\u003coptimized out\u003e) at src/runcore/main.c:221\n#13 0x00007ffff7a36dd8 in runops (interp=interp@entry=0x60e060, offs=\u003coptimized out\u003e) at src/call/ops.c:123\n#14 0x00007ffff7a32e2e in Parrot_pcc_invoke_from_sig_object (interp=interp@entry=0x60e060, sub_obj=sub_obj@entry=0x6faf08, call_object=\u003coptimized out\u003e) at src/call/pcc.c:340\n#15 0x00007ffff7a274d3 in Parrot_ext_call (interp=interp@entry=0x60e060, sub_pmc=0x6faf08, signature=signature@entry=0x7ffff7b2d233 \"P-\u003e\") at src/extend.c:158\n#16 0x00007ffff7afc166 in Parrot_Task_invoke (interp=0x60e060, _self=0x6f7300, next=0x0) at ./src/pmc/task.pmc:175\n#17 0x00007ffff7a32dec in Parrot_pcc_invoke_from_sig_object (interp=interp@entry=0x60e060, sub_obj=sub_obj@entry=0x6f7300, call_object=0x6faf30) at src/call/pcc.c:332\n#18 0x00007ffff7a274d3 in Parrot_ext_call (interp=interp@entry=0x60e060, sub_pmc=0x6f7300, signature=signature@entry=0x7ffff7b2d1ec \"-\u003e\") at src/extend.c:158\n#19 0x00007ffff7a50b0a in Parrot_cx_next_task (interp=interp@entry=0x60e060, scheduler=scheduler@entry=0x6e2cb8) at src/scheduler.c:231\n#20 0x00007ffff7a512bf in Parrot_cx_outer_runloop (interp=interp@entry=0x60e060) at src/scheduler.c:149\n#21 0x00007ffff7a513b7 in Parrot_cx_begin_execution (interp=interp@entry=0x60e060, main=main@entry=0x6f6928, argv=argv@entry=0x6e2f60) at src/scheduler.c:109\n#22 0x00007ffff7a59fdb in Parrot_pf_execute_bytecode_program (interp=0x60e060, pbc=\u003coptimized out\u003e, args=0x6e2f60) at src/packfile/api.c:2861\n#23 0x00007ffff7a235b3 in Parrot_api_run_bytecode (interp_pmc=0x6d6ea0, pbc=0x6f72d8, args=\u003coptimized out\u003e) at src/embed/bytecode.c:161\n#24 0x0000000000401f78 in main (argc=\u003coptimized out\u003e, argv=\u003coptimized out\u003e) at frontend/parrot2/main.c:194\n(gdb) info sharedlibrary\nFrom                To                  Syms Read   Shared Object Library\n0x00007ffff7ddaae0  0x00007ffff7df54e0  Yes         /lib64/ld-linux-x86-64.so.2\n0x00007ffff79f7210  0x00007ffff7b18971  Yes         .../perl6/nqp/install/lib/libparrot.so.6.9.0\n0x00007ffff75fa4a0  0x00007ffff77400c3  Yes         /lib/x86_64-linux-gnu/libc.so.6\n0x00007ffff73d7ed0  0x00007ffff73d89ce  Yes         /lib/x86_64-linux-gnu/libdl.so.2\n0x00007ffff70d6610  0x00007ffff71451b6  Yes         /lib/x86_64-linux-gnu/libm.so.6\n0x00007ffff6eb89f0  0x00007ffff6ec5391  Yes         /lib/x86_64-linux-gnu/libpthread.so.0\n0x00007ffff6cad350  0x00007ffff6cb033c  Yes         /lib/x86_64-linux-gnu/librt.so.1\n0x00007ffff6a3ff40  0x00007ffff6a9442f  Yes         /usr/lib/x86_64-linux-gnu/libgmp.so.10\n0x00007ffff68040d0  0x00007ffff6824ee5  Yes         /lib/x86_64-linux-gnu/libreadline.so.6\n0x00007ffff65ea650  0x00007ffff65eed38  Yes         /usr/lib/x86_64-linux-gnu/libffi.so.6\n0x00007ffff62c2ef0  0x00007ffff63733e8  Yes         /usr/lib/x86_64-linux-gnu/libicuuc.so.52\n0x00007ffff60533d0  0x00007ffff605f028  Yes         /lib/x86_64-linux-gnu/libtinfo.so.5\n0x00007ffff47da570  0x00007ffff47da655  Yes         /usr/lib/x86_64-linux-gnu/libicudata.so.52\n0x00007ffff45315c0  0x00007ffff459499a  Yes         /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n0x00007ffff42c2ab0  0x00007ffff42d2995  Yes         /lib/x86_64-linux-gnu/libgcc_s.so.1\n0x00007ffff2bdb350  0x00007ffff2be9060  Yes         .../perl6/nqp/install/lib/parrot/6.9.0-devel/dynext/nqp_group.so\n0x00007ffff2989dc0  0x00007ffff29b54fd  Yes         .../perl6/nqp/install/lib/parrot/6.9.0-devel/dynext/nqp_ops.so\n0x00007ffff2771d10  0x00007ffff277375a  Yes         .../perl6/nqp/install/lib/parrot/6.9.0-devel/dynext/io_ops.so\n0x00007ffff2554940  0x00007ffff2565f98  Yes        .../perl6/nqp/install/lib/parrot/6.9.0-devel/dynext/nqp_bigint_ops.so\n0x00007ffff1c402b0  0x00007ffff1c41c1a  Yes         .../perl6/nqp/install/lib/parrot/6.9.0-devel/dynext/trans_ops.so\n```","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1415625761,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQxOTA3NjI3MTY="},"status":1},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1415625844,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYyMzgzMjIx","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-62383221"},"message":"This is now a nqp bug. SixModelObject.mark most likely","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1415625844,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTkwNzYzMjc1"},"status":2},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1415628507,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYyMzg4MjAz","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-62388203"},"message":"I can repro it in nqp. Working on it.","files":null},{"type":3,"author":{"id":"60be42e2e27d95040b4bd226675c6833ad01c742"},"timestamp":1415673167,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYyNDkyOTUy","github-url":"https://github.com/parrot/parrot/issues/1108#issuecomment-62492952"},"message":":+1:","files":null}]}