{"version":1,"ops":[{"type":3,"author":{"id":"6d59fc378929d99368e023bcfc49aacae1e68aad"},"timestamp":1254252160,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDQwMTI=","github-url":"https://github.com/parrot/parrot/issues/691#issuecomment-3504012"},"message":"\u003cpre class=\"wiki\"\u003eOn Tue, 29 Sep 2009, Parrot wrote:\n\u0026gt;  Parrot will not build on OpenSolaris with GCC if --optimize is used.\nThe problem is that a plain \"--optimize\" picks up the optimization flags\nfrom perl.  On OpenSolaris, the system perl is compiled with Sun's\ncompiler, and the optimization flags are  -xO3 -xspace -xildoff.\nOn your system, however, you have gcc installed and the first 'cc' in your\n$PATH is actually GNU c, which doesn't understand the Solaris flags.\nA workaround is to explicitly give the optimization flags you\nwant, e.g.\n    perl Configure.pl --optimize=-O2\nAnother is to rearrange your $PATH so that Sun's cc is first in your PATH.\nAt root, this is essentially the same problem as TT #1044.  If\nConfigure.pl detects a different compiler than that used to build the\nsupporting perl, it should not blindly go and use the old flags settings\nanyway.\n--\n    Andy Dougherty      doughera@lafayette.edu\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1267548631,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDQwMTM=","github-url":"https://github.com/parrot/parrot/issues/691#issuecomment-3504013"},"message":"12663 byte attachment from Whiteknight\nat http://trac.parrot.org/parrot/raw-attachment/ticket/1074/opensol.txt\n\n```Configuring with: ' --cc='gcc' --link=gcc --ld=gcc --no-line-directives --optimize'\nParrot Version 2.1.0 Configure 2.0\nCopyright (C) 2001-2010, Parrot Foundation.\n\nHello, I'm Configure. My job is to poke and prod your system to figure out\nhow to build Parrot. The process is completely automated, unless you passed in\nthe `--ask' flag on the command line, in which case I'll prompt you for a few\npieces of info.\n\nSince you're running this program, you obviously have Perl 5--I'll be pulling\nsome defaults from its configuration.\n\ninit::manifest -      Check MANIFEST.....................................done.\ninit::defaults -      Set Configure's default values.....................done.\ninit::install -       Set up installation paths..........................done.\ninit::hints -         Load platform and local hints files................done.\ninit::headers -       Find header files distributed with Parrot..........done.\ninter::progs -        Determine what C compiler and linker to use........done.\ninter::make -         Is make installed...................................yes.\ninter::lex -          Is lex installed................................skipped.\ninter::yacc -         Is yacc installed...............................skipped.\nauto::gcc -           Is your C compiler actually gcc................yes, 3.4.\nauto::glibc -         Is GNU libc installed................................no.\nauto::backtrace -     Does libc have the backtrace\\* functions.............yes.\nauto::msvc -          Is your C compiler actually Visual C++..........skipped.\nauto::attributes -    Detect compiler attributes.........................done.\nauto::warnings -      Detect supported compiler warnings..........set for gcc.\ninit::optimize -      Enable optimization.................................yes.\ninter::shlibs -       Determine flags for building shared libraries.....-fPIC.\ninter::libparrot -    Should parrot link against a shared library.........yes.\ninter::charset -      Which charset files should be compiled in..........done.\ninter::encoding -     Which encoding files should be compiled in.........done.\ninter::types -        What types should Parrot use.......................done.\nauto::ops -           Which opcode files should be compiled in...........done.\nauto::pmc -           Which pmc files should be compiled in..............done.\nauto::headers -       Probe for C headers................................done.\nauto::sizes -         Determine some sizes...\nstep auto::sizes died during execution: Linker failed (see test_856.ldo) at lib/Parrot/Configure/Compiler.pm line 111\n    Parrot::Configure::Compiler::cc_build('Parrot::Configure=HASH(0x820bac0)') called at config/auto/sizes.pm line 36\n    auto::sizes::runstep('auto::sizes=HASH(0x842c310)', 'Parrot::Configure=HASH(0x820bac0)') called at lib/Parrot/Configure.pm line 412\n    eval {...} called at lib/Parrot/Configure.pm line 412\n    Parrot::Configure::_run_this_step('Parrot::Configure=HASH(0x820bac0)', 'HASH(0x80794dc)') called at lib/Parrot/Configure.pm line 267\n    Parrot::Configure::runsteps('Parrot::Configure=HASH(0x820bac0)') called at Configure.pl line 75\n\n at Configure.pl line 75\n\nauto::byteorder -     Compute native byteorder for wordsize...\nstep auto::byteorder died during execution: Linker failed (see test_856.ldo) at lib/Parrot/Configure/Compiler.pm line 111\n    Parrot::Configure::Compiler::cc_build('Parrot::Configure=HASH(0x820bac0)') called at config/auto/byteorder.pm line 44\n    auto::byteorder::_probe_for_byteorder('Parrot::Configure=HASH(0x820bac0)') called at config/auto/byteorder.pm line 34\n    auto::byteorder::runstep('auto::byteorder=HASH(0x83dee98)', 'Parrot::Configure=HASH(0x820bac0)') called at lib/Parrot/Configure.pm line 412\n    eval {...} called at lib/Parrot/Configure.pm line 412\n    Parrot::Configure::_run_this_step('Parrot::Configure=HASH(0x820bac0)', 'HASH(0x80794f4)') called at lib/Parrot/Configure.pm line 267\n    Parrot::Configure::runsteps('Parrot::Configure=HASH(0x820bac0)') called at Configure.pl line 75\n\n at Configure.pl line 75\n\nauto::va_ptr -        Test the type of va_ptr...\nstep auto::va_ptr died during execution: Unknown va_ptr type at config/auto/va_ptr.pm line 42.\n\n at Configure.pl line 75\n\nauto::format -        What formats should be used for sprintf............done.\nauto::isreg -         Does your C library have a working S_ISREG...........no.\nauto::arch -          Determine CPU architecture and OS..................done.\nauto::jit -           Determine JIT capability.............................no.\nauto::frames -        Determine call frame building capability.............no.\nauto::cpu -           Generate CPU specific stuff........................done.\nauto::cgoto -         Does your compiler support computed goto.............no.\nauto::inline -        Does your compiler support inline....................no.\nauto::gc -            Determine allocator to use.........................done.\nauto::memalign -      Does your C library support memalign...Use of uninitialized value in numeric eq (==) at config/auto/memalign.pm line 80.\nUse of uninitialized value in numeric eq (==) at config/auto/memalign.pm line 80.\n..............no.\nauto::signal -        Determine some signal stuff........................done.\nauto::socklen_t -     Determine whether there is socklen_t................yes.\nauto::neg_0 -         Determine whether negative zero can be printed.....done.\nauto::env -           Does your C library have setenv / unsetenv...........no.\nauto::thread -        Does your system has thread...Use of uninitialized value in string eq at config/auto/thread.pm line 47.\n.......................no.\nauto::gmp -           Does your platform support GMP.......................no.\nauto::readline -      Does your platform support readline..................no.\nauto::gdbm -          Does your platform support gdbm......................no.\nauto::pcre -          Does your platform support pcre....................done.\nauto::opengl -        Does your platform support OpenGL....................no.\nauto::crypto -        Does your platform support crypto....................no.\nauto::gettext -       Does your configuration include gettext............done.\nauto::snprintf -      Test snprintf...\nstep auto::snprintf died during execution: Linker failed (see test_856.ldo) at lib/Parrot/Configure/Compiler.pm line 111\n    Parrot::Configure::Compiler::cc_build('Parrot::Configure=HASH(0x820bac0)') called at config/auto/snprintf.pm line 42\n    auto::snprintf::_probe_for_snprintf('Parrot::Configure=HASH(0x820bac0)') called at config/auto/snprintf.pm line 32\n    auto::snprintf::runstep('auto::snprintf=HASH(0x847744c)', 'Parrot::Configure=HASH(0x820bac0)') called at lib/Parrot/Configure.pm line 412\n    eval {...} called at lib/Parrot/Configure.pm line 412\n    Parrot::Configure::_run_this_step('Parrot::Configure=HASH(0x820bac0)', 'HASH(0x849c694)') called at lib/Parrot/Configure.pm line 267\n    Parrot::Configure::runsteps('Parrot::Configure=HASH(0x820bac0)') called at Configure.pl line 75\n\n at Configure.pl line 75\n\nauto::perldoc -       Is perldoc installed................................yes.\nauto::pod2man -       Is pod2man installed................................yes.\nauto::ctags -         Is (exuberant) ctags installed.......................no.\nauto::revision -      Determine Parrot's revision......................r44592.\nauto::icu -           Is ICU installed..........................no icu-config.\ngen::config_h -       Generate C headers...value for 'int2_t' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 39.\nvalue for 'int2_t' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 40.\nvalue for 'int4_t' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 41.\nvalue for 'int4_t' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 42.\nvalue for 'float4_t' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 44.\nvalue for 'float8_t' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 45.\nvalue for 'intvalmin' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 49.\nvalue for 'intvalmax' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 52.\nvalue for 'floatvalmin' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 56.\nvalue for 'floatvalmax' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 59.\nvalue for 'byteorder' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 95.\nvalue for 'bigendian' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 96.\nvalue for 'hugeintval' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 104.\nvalue for 'hugeintval' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 105.\nvalue for 'hugefloatval' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 106.\nvalue for 'intvalsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 108.\nvalue for 'nvsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 109.\nvalue for 'opcode_t_size' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 110.\nvalue for 'ptrsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 111.\nvalue for 'shortsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 112.\nvalue for 'intsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 113.\nvalue for 'longsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 114.\nvalue for 'hugeintvalsize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 115.\nvalue for 'doublesize' in config/gen/config_h/config_h.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 116.\nUse of uninitialized value in concatenation (.) or string at (eval 82) line 53, \u003c$in\u003e line 8.\nUse of uninitialized value in string eq at (eval 82) line 57, \u003c$in\u003e line 8.\nUse of uninitialized value in string eq at (eval 82) line 63, \u003c$in\u003e line 8.\n..............................done.\ngen::core_pmcs -      Generate core pmc list.............................done.\ngen::crypto -         Generate Digest PMC files.......................skipped.\ngen::opengl -         Generating OpenGL bindings......................skipped.\ngen::makefiles -      Generate makefiles and other build files...........done.\ngen::platform -       Move platform files into place.....................done.\ngen::config_pm -      Record configuration data for later retrieval...value for 'intvalsize' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 19.\nvalue for 'intsize' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 19.\nvalue for 'opcode_t_size' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 19.\nvalue for 'ptrsize' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 20.\nvalue for 'byteorder' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 20.\nvalue for 'numvalsize' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 21.\nvalue for 'doublesize' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 21.\nvalue for 'hugefloatvalsize' in config/gen/config_pm/myconfig.in is undef at lib/Parrot/Configure/Compiler.pm line 546, \u003c$in\u003e line 21.\n...done.\nDuring configuration the following steps failed:\n    25:  auto::sizes\n    26:  auto::byteorder\n    27:  auto::va_ptr\n    50:  auto::snprintf\nYou should diagnose and fix these errors before calling 'gmake'\n\n```\n```","files":null},{"type":3,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1267570231,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDQwMTQ=","github-url":"https://github.com/parrot/parrot/issues/691#issuecomment-3504014"},"message":"\u003cp\u003e\nConfigure.pl results as of r44592\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"aef4977f5ea786238d7c9581a2f192f4adc3f39d"},"timestamp":1267570287,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDQwMTU=","github-url":"https://github.com/parrot/parrot/issues/691#issuecomment-3504015"},"message":"\u003cp\u003e\nThis problem still occurs as of r44592, nearly 5 months after the original report. I've included output of my Configure.pl command, and can run other tests as needed.\n\u003c/p\u003e","files":null},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1394140495,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDk5NjgyNTYw"},"added":["cc-optimize"],"removed":[]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1412493865,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MTc0MjI0NzU3"},"added":[],"removed":["Optimization"]}]}