{"version":1,"ops":[{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1252315749,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzA=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503530"},"message":"\u003cp\u003e\nPlease see this \u003ca   href=\"http://tt.ro.vutbr.cz/file/cmdout/84164.txt\"\u003e\u003cspan class=\"icon\"\u003e \u003c/span\u003eParrot build failure on Cygwin\u003c/a\u003e reported by one of our bots.  It appears related to the subject matter of this ticket and to have emerged subsequent to commits related to it.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"6d59fc378929d99368e023bcfc49aacae1e68aad"},"timestamp":1252356128,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzE=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503531"},"message":"\u003cp\u003e\nThe various specific \"clock id\" values (e.g. CLOCK_PROCESS_CPUTIME_ID) may well vary by operating system version as well as by platform.  A fallback of CLOCK_REALTIME might be reasonable if none of the other desired ones are available.\n\u003c/p\u003e\n\n\u003cp\u003e\nAlso, it would be a good idea to record the results of this probe with appropriate keys in parrot's PConfig hash and in \u0026lt;parrot/config.h\u0026gt;, rather than simply passing additional -D flags to the compiler.  See \u003ca   href=\"http://rt.perl.org/rt3/Public/Bug/Display.html?id=51232\"\u003e\u003cspan class=\"icon\"\u003e \u003c/span\u003ehttp://rt.perl.org/rt3/Public/Bug/Display.html?id=51232\u003c/a\u003e for much more on this topic.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"6d59fc378929d99368e023bcfc49aacae1e68aad"},"timestamp":1252642640,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzI=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503532"},"message":"\u003cp\u003e\nSolaris 8 is one such \"esoteric\" platform.  The build there currently fails because\n\u003ctt\u003e CLOCK_PROCESS_CPUTIME_ID \u003c/tt\u003e\nis not defined.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1252650256,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzM=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503533"},"message":"\u003cp\u003e\nReplying to \u003ca href=\"http://trac.parrot.org/parrot/ticket/985#comment:1\" title=\"Comment 1 for Ticket #985\"\u003ejkeenan\u003c/a\u003e:\n\u003c/p\u003e\n\n\u003cblockquote class=\"citation\"\u003e\n\u003cp\u003e\n Please see this \u003ca   href=\"http://tt.ro.vutbr.cz/file/cmdout/84164.txt\"\u003e\u003cspan class=\"icon\"\u003e \u003c/span\u003eParrot build failure on Cygwin\u003c/a\u003e reported by one of our bots.  It appears related to the subject matter of this ticket and to have emerged subsequent to commits related to it.\n\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e\nSee also \u003ca href=\"https://trac.parrot.org/parrot/ticket/989#comment:5\"\u003eTT 989\u003c/a\u003e which reports some unusual bus errors on Darwin that were seen starting with the revision where hi-res timer files were added.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"bbd4d30061de10095711e4b50c199671231129a5"},"timestamp":1252652982,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzQ=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503534"},"message":"\u003cpre class=\"wiki\"\u003eOn Thu, Sep 10, 2009 at 8:24 PM, Parrot \u0026lt;parrot-tickets@lists.parrot.org\u0026gt; wrote:\n\u0026gt;  Replying to [comment:1 jkeenan]:\n\u0026gt;  \u0026gt; Please see this [http://tt.ro.vutbr.cz/file/cmdout/84164.txt Parrot\n\u0026gt;  build failure on Cygwin] reported by one of our bots.  It appears related\n\u0026gt;  to the subject matter of this ticket and to have emerged subsequent to\n\u0026gt;  commits related to it.\nI think I saw that same ttbot report on IRC a while back and. This\nfailure should be fixed after -r41094 by cotto++. Is there a way we\ncan check for that without waiting on ttbot?\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"bbd4d30061de10095711e4b50c199671231129a5"},"timestamp":1256885772,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzU=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503535"},"message":"\u003cp\u003e\nSmall update on the state of this code:\n\u003c/p\u003e\n\n\u003cp\u003e\nWe still don't have a proper Configure.pl-time check for hires timers. But, right now parrot will default to gettimeofday() unless _POSIX_TIMERS is #defined to a true value. Which is about as safe as it gets for retrieving timing info. This however short-changes platforms with a correct clock_gettime() that don't #define _POSIX_TIMERS.\n\u003c/p\u003e\n\n\u003cp\u003e\nAll of his provides safer defaults but doesn't solve the actual problem that this ticket is about. The ticket should remain open until we can add a proper Configure.pl-time check for hires timers or decide they aren't needed.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1297231781,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1MzY=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503536"},"message":"\u003cp\u003e\nReplying to \u003ca class=\"new ticket\" href=\"http://trac.parrot.org/parrot/ticket/985\" title=\"todo: proper Configure.pl-time check for hires timers (new)\"\u003edukeleto\u003c/a\u003e:\n\u003c/p\u003e\n\n\u003cblockquote class=\"citation\"\u003e\n\u003cp\u003e\n  Devel::NYTProf2 has already solved most of these issues, we should emulate that.\n\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e\nWhere can we find Devel::NYTProf2?  Is it different from this:  \u003ca   href=\"http://search.cpan.org/~timb/Devel-NYTProf-4.06/\"\u003e\u003cspan class=\"icon\"\u003e \u003c/span\u003ehttp://search.cpan.org/~timb/Devel-NYTProf-4.06/\u003c/a\u003e ?\n\u003c/p\u003e\n\n\u003cp\u003e\nkid51\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1297339610,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1Mzc=","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-3503537"},"message":"\u003cp\u003e\nNYTProf 4.x is the new shiny. Use that.\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1420209648,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY4NTMwNjcy","github-url":"https://github.com/parrot/parrot/issues/544#issuecomment-68530672"},"message":"I've also got clock_realtime error now on a darwin, only when I use my latest and fastest perl5.22 with \n`$ perl5.21.8-nt@blead -V:ccflags` and gcc\n\n`ccflags='-fno-common -DPERL_DARWIN -m64 -mssse3 -fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -I/opt/local/include';`\n\n```\nhires_timer.c:60:5: error: implicit declaration of function 'clock_gettime' [-Werror=implicit-function-declaration]\n     clock_gettime(CLOCK_BEST, \u0026ts)\nerror: 'CLOCK_REALTIME' undeclared (first use in this function)\n #    define CLOCK_BEST CLOCK_REALTIME\n```\n\nWith clang or gcc and those ccflags it works:\n`-pipe -Os  -fno-common -DPERL_DARWIN -I/opt/local/include -fno-strict-aliasing -fstack-protector -I/opt/local/include`\n\nMaybe use https://gist.github.com/jbenet/1087739 or mach_absolute_time (https://developer.apple.com/library/mac/qa/qa1398/_index.html)","files":null}]}