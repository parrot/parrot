{"version":1,"ops":[{"type":3,"author":{"id":"6d59fc378929d99368e023bcfc49aacae1e68aad"},"timestamp":1318895717,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM4MzI=","github-url":"https://github.com/parrot/parrot/issues/631#issuecomment-3503832"},"message":"\u003cp\u003e\nThis message has 0 attachment(s)\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1318896483,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM4MzM=","github-url":"https://github.com/parrot/parrot/issues/631#issuecomment-3503833"},"message":"\u003cp\u003e\nWhat systems require this?\n\u003c/p\u003e","files":null},{"type":3,"author":{"id":"6d59fc378929d99368e023bcfc49aacae1e68aad"},"timestamp":1318906817,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM4MzQ=","github-url":"https://github.com/parrot/parrot/issues/631#issuecomment-3503834"},"message":"\u003cpre class=\"wiki\"\u003eOn Mon, 17 Oct 2011, Parrot wrote:\n\u0026gt; #2198: Add Configure.pl check for \u0026lt;stdint.h\u0026gt;\n\u0026gt; Comment:\n\u0026gt;\n\u0026gt;  What systems require this?\nI encountered it on Solaris 8.  More generally, \u0026lt;stdint.h\u0026gt; is C99, while\nparrot generally strives for C89, when not unreasonably burdensome to do\nso.\n--\n    Andy Dougherty      doughera@lafayette.edu\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"d9b4aee65ce8c18d4a43eced1eecb0d154e1eebb"},"timestamp":1327191887,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM2MDAxNTY=","github-url":"https://github.com/parrot/parrot/issues/631#issuecomment-3600156"},"message":"Andy,\n\nI tried to apply the patch in a branch but got rejects for `include/parrot/runcore_subprof.h`.  Perhaps the include for stdint.h has moved since you originally created the patch.\n\n\u003cpre\u003e\n$ ack -l 'stdint.h' *\ncompilers/imcc/imclexer.c\nsrc/runcore/subprof.c\n\u003c/pre\u003e\n\nCan you investigate and re-pull?\n\nThank you very much.\nJim Keenan","files":null},{"type":3,"author":{"id":"4277d85693ce7ae3559eb0a94f3b50be93446600"},"timestamp":1327222994,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM2MDE5MDE=","github-url":"https://github.com/parrot/parrot/issues/631#issuecomment-3601901"},"message":"`compilers/imcc/imclexer.c` contains its own ad-hoc implementation of `stdint.h` generated by `flex` - it does not rely on `stdint.h` being present.\n\nThe inclusion of `stdint.h` in `src/runcore/subprof.c` is unnecessary as well: As the code section in question is protected by\n\n```\n#if defined(__GNUC__) \u0026\u0026 (defined(__i386) || defined(__x86_64))\n```\n\nwe already know that `uint32_t` has the same size as `unsigned`.\n\nI suggest the following patch:\n\n```\ndiff --git a/src/runcore/subprof.c b/src/runcore/subprof.c\nindex 9d897eb..1616e03 100644\n--- a/src/runcore/subprof.c\n+++ b/src/runcore/subprof.c\n@@ -1056,14 +1056,12 @@ Returns a high-resolution number representing how long Parrot has been running.\n\n #if defined(__GNUC__) \u0026\u0026 (defined(__i386) || defined(__x86_64))\n\n-#  include \u003cstdint.h\u003e\n-\n PARROT_INLINE\n static UHUGEINTVAL\n getticks(void) {\n     ASSERT_ARGS(getticks)\n\n-    uint32_t lo, hi;\n+    unsigned lo, hi;\n     __asm__ __volatile__(\"rdtsc\" : \"=a\" (lo), \"=d\" (hi));\n     return (UHUGEINTVAL) hi \u003c\u003c 32 | lo;\n }\n```","files":null},{"type":3,"author":{"id":"3771fd696fba286f6d0b9544dc89da489f0c740e"},"timestamp":1338546831,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNTc2NzY=","github-url":"https://github.com/parrot/parrot/issues/631#issuecomment-6057676"},"message":"Pull Request #704 has been merged, close this issue.","files":null},{"type":4,"author":{"id":"3771fd696fba286f6d0b9544dc89da489f0c740e"},"timestamp":1338546861,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTY3MzU3NjM="},"status":2}]}