{"version":1,"ops":[{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414308338,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNTA4ODkz","github-url":"https://github.com/parrot/parrot/issues/1109#issuecomment-60508893"},"message":"Now with the merge of a43b2efbbf7cb1edc3cbc34e640941d509a6c655 much easier to repro if you set `ulimit -v 640`","files":null},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414308686,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MTgzNzMyODI1"},"added":[],"removed":["Sev-low"]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414308689,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MzczMjgyNw=="},"added":["Sev-high"],"removed":[]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414308701,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MzczMjg0MA=="},"added":["Pri-major"],"removed":[]},{"type":5,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414308722,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MzczMjg1Nw=="},"added":["Bug"],"removed":[]},{"type":3,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1414406216,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNTc0MTc1","github-url":"https://github.com/parrot/parrot/issues/1109#issuecomment-60574175"},"message":"With more GC pressure via rlimits it is now much easier to repro, even on fast, big machines.\nSomeone is not marking a Coro within the context of Parrot_pcc_reuse_continuation().\nThis is still a problem after 4d5ae76  which adds the missing caller_seg to Coro.mark.\n\n```\nConfigure --ccflags=-DMEMORY_DEBUG\n$ ulimit -Sv 640\n$ ./parrot runtime/parrot/library/PGE/Perl6Grammar.pir --output=compilers/pge/PGE/builtins_gen.pir compilers/pge/PGE/builtins.pg\n\nGC live pmc Continuation          gen 0 at 0x7fa9588c8270\nGC live pmc CallContext           gen 0 at 0x7fa9588c7eb0\nGC live pmc Continuation          gen 0 at 0x7fa95908fb68\nGC live pmc CallContext           gen 0 at 0x7fa95908fa50\nGC live pmc Coroutine             gen 2 at 0x7fa95908ef10\nGC live pmc Coroutine             gen 2 != 0 at 0x7fa95908ef10\nsrc/gc/gc_gms.c:2268: failed assertion '(gen == i) || !\"Object from wrong generation\"'\nBacktrace - Obtained 25 stack frames (max trace depth is 32).\n0   libparrot.6.9.0.dylib               0x00000001031b4d4f Parrot_print_backtrace + 47\n1   libparrot.6.9.0.dylib               0x00000001031b4d1a Parrot_confess + 138\n2   libparrot.6.9.0.dylib               0x00000001031c6a54 gc_gms_check_sanity + 420\n3   libparrot.6.9.0.dylib               0x00000001031c2b7c gc_gms_mark_and_sweep + 300\n4   libparrot.6.9.0.dylib               0x00000001031c49d8 gc_gms_allocate_pmc_header + 168\n5   libparrot.6.9.0.dylib               0x00000001031baaf3 Parrot_gc_new_pmc_header + 83\n6   libparrot.6.9.0.dylib               0x0000000103203ed6 get_new_pmc_header + 422\n7   libparrot.6.9.0.dylib               0x0000000103203691 Parrot_pmc_new + 273\n8   libparrot.6.9.0.dylib               0x00000001031db81c Parrot_pcc_reuse_continuation + 396\n9   libparrot.6.9.0.dylib               0x0000000103159015 Parrot_invokecc_p + 149\n10  libparrot.6.9.0.dylib               0x0000000103206779 runops_fast_core + 169\n11  libparrot.6.9.0.dylib               0x0000000103205c12 runops_int + 226\n12  libparrot.6.9.0.dylib               0x00000001031d9f23 runops + 227\n13  libparrot.6.9.0.dylib               0x00000001031d2e7d Parrot_pcc_invoke_from_sig_object + 397\n14  libparrot.6.9.0.dylib               0x00000001031b58f8 Parrot_ext_call + 392\n15  libparrot.6.9.0.dylib               0x000000010332b004 Parrot_Task_invoke + 340\n16  libparrot.6.9.0.dylib               0x00000001031d2e1b Parrot_pcc_invoke_from_sig_object + 299\n17  libparrot.6.9.0.dylib               0x00000001031b58f8 Parrot_ext_call + 392\n18  libparrot.6.9.0.dylib               0x000000010320d4ad Parrot_cx_next_task + 317\n19  libparrot.6.9.0.dylib               0x000000010320d0fd Parrot_cx_outer_runloop + 125\n```","files":null},{"type":4,"author":{"id":"86141a663c2eb7543d1a51ec6253a1d54de912fd"},"timestamp":1415529259,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTkwNDQ3NDc1"},"status":2}]}