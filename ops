{"version":1,"ops":[{"type":1,"author":{"id":"2da6485217cbb88ff96be8f3dcc7f9ae44cf6bf0"},"timestamp":1273078439,"metadata":{"github-id":"MDU6SXNzdWUyODQ4NTkz","github-url":"https://github.com/parrot/parrot/issues/389","origin":"github"},"title":"t/library/pg.t fails with PostgreSQL 8.4.3 on ubuntu 9.10","message":"```\n$ prove -v t/library/pg.t \nt/library/pg.t .. \n1..43\nok 1 - load_bytecode\nok 2 - load_bytecode Pg\nok 3 - Pg class exists\nok 4 - con isa Pg;Conn\nok 5 - con is true after connect\nok 6 - con.status() == CONNECTION_OK \nok 7 - status(PGconn) == CONNECTION_OK \nok 8 - exec BEGIN called\nok 9 - res isa Pg;Result\nok 10 - res.resultStatus() == PGRES_COMMAND_OK \nok 11 - notice receiver called\nok 12 - notice callback got a struct\nnot ok 13 - notice result is still ok\nok 14 - table created PGRES_COMMAND_OK \nok 15 - insert row PGRES_COMMAND_OK \nok 16 - select * PGRES_TUPLES_OK \nok 17 - res.ntuples == 1\nok 18 - res.nfields == 3\nok 19 - res.fname(1) == \"foo\"\nok 20 - res.fname(1) == \"bar\"\nok 21 - res.fnumber(\"id\") == 0\nok 22 - res.fnumber(\"bar\") == 2\nok 23 - res.fnumber(\"no_such_col_name\") == -1\nok 24 - getvalue(0, 1) == \"a\"\nok 25 - getvalue(0, 2) == \"b\"\nok 26 - insert w execParams PGRES_COMMAND_OK \nok 27 - res.ntuples == 2\nok 28 - getvalue(1, 1) == \"c\"\nok 29 - getvalue(1, 2) == \"d\"\nok 30 - prepare PGRES_COMMAND_OK \nok 31 - execPrepared PGRES_COMMAND_OK \nok 32 - res.ntuples == 3\nok 33 - execPrepared PGRES_COMMAND_OK \nok 34 - res.ntuples == 4\nok 35 - insert row PGRES_COMMAND_OK \nok 36 - res.ntuples == 5\nok 37 - getvalue(4, 1) == \"i\"\nok 38 - getvalue(4, 2) == \"\"\nok 39 - getisnull(4, 1) == 0\nok 40 - getisnull(4, 2) == 1\nok 41 - ABORT succeeded\nok 42 - con.finish()\nok 43 - con is false after finish\nFailed 1/43 subtests \n\nTest Summary Report\n-------------------\nt/library/pg.t (Wstat: 0 Tests: 43 Failed: 1)\n  Failed test:  13\nFiles=1, Tests=43,  0 wallclock secs ( 0.01 usr  0.02 sys +  0.01 cusr  0.00 csys =  0.04 CPU)\nResult: FAIL\n```\n\nOriginally http://trac.parrot.org/parrot/ticket/1611","files":null}]}