{"version":1,"ops":[{"type":3,"author":{"id":"0c9c62332064205b2d799407019fa3e7e2f43862"},"timestamp":1313820288,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1OTA=","github-url":"https://github.com/parrot/parrot/issues/561#issuecomment-3503590"},"message":"\u003cpre class=\"wiki\"\u003eOn Tue, Aug 16, 2011 at 12:36:55PM -0000, Parrot wrote:\n\u0026gt; #2178: Parrot lacks a boolean type\n\u0026gt;  And instead, boolean contexts fall back to expecting ints. This is not\n\u0026gt;  semantically correct, and leads to issues, especially when trying to\n\u0026gt;  expose a HLL's object system to the rest of parrot.\nI don't understand this ticket.  Parrot *has* a boolean type, both in\nthe \"Boolean\" data type, and in the \"get_bool\" vtable function (which\nis separate from \"get_integer\").  I'm not aware of Parrot requiring\n\"boolean contexts fall back to expecting ints\", nor does it do so in\nmany cases.\nIt's true that the get_bool vtable expects to return an integer\nindicating true/false, but it's still a very separate vtable from\nget_integer.  Also, most (if not all) of the boolean opcodes use get_bool\nand not get_integer:\n    if $P0, label\n    unless $P0, label\n    and $P0, $P1, $P2\n    or $P0, $P1, $P2\n    not $P0, $P1\n    istrue $I0, $P0\n    isfalse $I0, $P0\nThat said, it wouldn't bug me if we had a get_bool_pmc vtable to\ngo along with get_bool.\n\u0026gt;  In my specific case, I implemented get_bool on Python objects, but\n\u0026gt;  Rosella's is_true and winxed's if coerce to int.\nThat sounds like a HLL/library issue to me, not a Parrot one.\n\u0026gt;  Rosella and Winxed are\n\u0026gt;  doing the least wrong thing possible with that they've got.\nNote that none of NQP, Rakudo, nor PCT perform casting to ints in\norder to provide boolean context.\nPm\n\u003c/pre\u003e","files":null},{"type":3,"author":{"id":"6d59fc378929d99368e023bcfc49aacae1e68aad"},"timestamp":1314193973,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM1MDM1OTE=","github-url":"https://github.com/parrot/parrot/issues/561#issuecomment-3503591"},"message":"\u003cp\u003e\nOne problem in the parrot side is the lack of a way to call vtable set_bool from pir.\n\u003c/p\u003e\n\n\u003ctable class=\"wiki\"\u003e\n\u003ctr\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\n\u003cp\u003e\nOn the winxed side, I think the problem lies in the \u0026amp;\u0026amp; and \u003ctd\u003e operators, not in if or other conditionals.\n\u003c/p\u003e","files":null}]}