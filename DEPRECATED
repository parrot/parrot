Deprecated opcodes (branches/leo-ctx5 first)

newsub(in INT, in INT, labelconst INT, labelconst INT)

  Creates a sub in P0 and a continuation in P1. It was a premature
  attempt to be able to create a return continuation outside a loop.
  This isn't needed anymore due to continuation recycling and the opcode
  also has implicit register usage (P0, P1).

  use 3 arg newsub, find_global, set_p_pc, or just foo() syntax

isnull(in PMC, labelconst INT)

  Despite it's name this is a branching opcode. The name is misleading.

  use if_null or unless_null instead.

Register stack opcodes

pop{i,s,p,n}, popbottom{i,s,p,n}, poptop{i,s,p,n},
push{i,s,p,n}, pushbottom{i,s,p,n}, pushtop{i,s,p,n},
savetop, restoretop,

  With the upcoming variable-sized register frame handling these opcodes
  will stop working and are useless anyway.

  use saveall/restoreall (whole register frame) or
  user stack opcodes save/restore instead.

Integer stack opcodes

intsave/intrestore/intdepth

  The integer stack was an invention for rx_ opcodes, but as it's a
  global stack, regexen using these opcodes aren't reentrant.

  use a ResizableIntegerPMC instead and standard keyed access

set_eh

  already dprecated
  use push_eh

die, die(in INT), die_hard(int INT, in INT)

  die is a special case of die_hard, but the name of the latter isn't
  really nice. Therefore die_hard with be renamed to die, the 2 argument
  form of die survives.

String character class opcodes is_* find_* and API interfaces

  The opcodes C<is_digit>, C<find_digit> et al and the according APIs are
  covered by the more universal C<is_cclass>, C<find_cclass>, and
  C<find_not_cclass> opcodes.

C<pack> opcodes

  I've no clue what these are doing - for sure not a perl-ish pack.

rx_ opcodes, src/rx.c, and the intstack

  The old rx_ (regex) opcodes are unused by PGE (and will not be used).
  The opcodes are lacking state, rx code using these ops is not reentrant
  due to the global intstack.
  rx.c has yet another (ascii-only) character class handling, it leaks
  memory and is just broken.


FUTURE changes

Not yet deprecated, but it's recommended to use the new syxtax.

Subroutine attributes will use the colon syntax:

  .sub foo method, @MULTI(x,y)    => .sub foo :method :multi(x,y)
  .sub foo @ANON, @LOAD           => .sub foo :anon :load

The new syntax uses no comma separators and all sub attributes are lower
case and prefixed by a colon.

